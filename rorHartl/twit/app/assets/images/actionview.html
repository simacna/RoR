<!DOCTYPE html>
<!-- saved from url=(0055)http://guides.rubyonrails.org/action_view_overview.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" hola_ext_inject="disabled"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Action View Overview â€” Ruby on Rails Guides</title>
<link rel="stylesheet" type="text/css" href="./actionview_files/style.css">
<link rel="stylesheet" type="text/css" href="./actionview_files/print.css" media="print">

<link rel="stylesheet" type="text/css" href="./actionview_files/shCore.css">
<link rel="stylesheet" type="text/css" href="./actionview_files/shThemeRailsGuides.css">

<link rel="stylesheet" type="text/css" href="./actionview_files/fixes.css">

<link href="http://guides.rubyonrails.org/images/favicon.ico" rel="shortcut icon" type="image/x-icon">
<script type="text/javascript" src="chrome-extension://bfbmjmiodbnnpllbbbfblcplfjjepjdn/js/injected.js"></script></head>
<body class="guide"><div id="StayFocusd-infobar" style="display:none;">
    <img src="chrome-extension://laankejkbhbdhmipfmgcngdelahlfoji/common/img/eye_19x19_red.png">
    <span id="StayFocusd-infobar-msg"></span>
    <span id="StayFocusd-infobar-links">
        <a id="StayFocusd-infobar-never-show">hide forever</a>&nbsp;&nbsp;|&nbsp;&nbsp;
        <a id="StayFocusd-infobar-hide">hide once</a>
    </span>
</div>
  <div id="topNav">
    <div class="wrapper">
      <strong class="more-info-label">More at <a href="http://rubyonrails.org/">rubyonrails.org:</a> </strong>
      <span class="red-button more-info-button">
        More Ruby on Rails
      </span>
      <ul class="more-info-links s-hidden">
        <li class="more-info"><a href="http://rubyonrails.org/">Overview</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/download">Download</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/deploy">Deploy</a></li>
        <li class="more-info"><a href="https://github.com/rails/rails">Code</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/screencasts">Screencasts</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/documentation">Documentation</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/community">Community</a></li>
        <li class="more-info"><a href="http://weblog.rubyonrails.org/">Blog</a></li>
      </ul>
    </div>
  </div>
  <div id="header">
    <div class="wrapper clearfix">
      <h1><a href="http://guides.rubyonrails.org/index.html" title="Return to home page">Guides.rubyonrails.org</a></h1>
      <ul class="nav">
        <li><a class="nav-item" href="http://guides.rubyonrails.org/index.html">Home</a></li>
        <li class="guides-index guides-index-large">
          <a href="http://guides.rubyonrails.org/index.html" id="guidesMenu" class="guides-index-item nav-item">Guides Index</a>
          <div id="guides" class="clearfix" style="display: none;">
            <hr>
              <dl class="L">
                <dt>Start Here</dt>
                <dd><a href="http://guides.rubyonrails.org/getting_started.html">Getting Started with Rails</a></dd>
                <dt>Models</dt>
                <dd><a href="http://guides.rubyonrails.org/active_record_basics.html">Active Record Basics</a></dd>
                <dd><a href="http://guides.rubyonrails.org/active_record_migrations.html">Active Record Migrations</a></dd>
                <dd><a href="http://guides.rubyonrails.org/active_record_validations.html">Active Record Validations</a></dd>
                <dd><a href="http://guides.rubyonrails.org/active_record_callbacks.html">Active Record Callbacks</a></dd>
                <dd><a href="http://guides.rubyonrails.org/association_basics.html">Active Record Associations</a></dd>
                <dd><a href="http://guides.rubyonrails.org/active_record_querying.html">Active Record Query Interface</a></dd>
                <dt>Views</dt>
                <dd><a href="http://guides.rubyonrails.org/layouts_and_rendering.html">Layouts and Rendering in Rails</a></dd>
                <dd><a href="http://guides.rubyonrails.org/form_helpers.html">Action View Form Helpers</a></dd>
                <dt>Controllers</dt>
                <dd><a href="http://guides.rubyonrails.org/action_controller_overview.html">Action Controller Overview</a></dd>
                <dd><a href="http://guides.rubyonrails.org/routing.html">Rails Routing from the Outside In</a></dd>
              </dl>
              <dl class="R">
                <dt>Digging Deeper</dt>
                <dd><a href="http://guides.rubyonrails.org/active_support_core_extensions.html">Active Support Core Extensions</a></dd>
                <dd><a href="http://guides.rubyonrails.org/i18n.html">Rails Internationalization API</a></dd>
                <dd><a href="http://guides.rubyonrails.org/action_mailer_basics.html">Action Mailer Basics</a></dd>
                <dd><a href="http://guides.rubyonrails.org/active_job_basics.html">Active Job Basics</a></dd>
                <dd><a href="http://guides.rubyonrails.org/security.html">Securing Rails Applications</a></dd>
                <dd><a href="http://guides.rubyonrails.org/debugging_rails_applications.html">Debugging Rails Applications</a></dd>
                <dd><a href="http://guides.rubyonrails.org/configuring.html">Configuring Rails Applications</a></dd>
                <dd><a href="http://guides.rubyonrails.org/command_line.html">Rails Command Line Tools and Rake Tasks</a></dd>
                <dd><a href="http://guides.rubyonrails.org/asset_pipeline.html">Asset Pipeline</a></dd>
                <dd><a href="http://guides.rubyonrails.org/working_with_javascript_in_rails.html">Working with JavaScript in Rails</a></dd>
                <dd><a href="http://guides.rubyonrails.org/autoloading_and_reloading_constants.html">Autoloading and Reloading Constants</a></dd>
                <dt>Extending Rails</dt>
                <dd><a href="http://guides.rubyonrails.org/rails_on_rack.html">Rails on Rack</a></dd>
                <dd><a href="http://guides.rubyonrails.org/generators.html">Creating and Customizing Rails Generators</a></dd>
                <dt>Contributing to Ruby on Rails</dt>
                <dd><a href="http://guides.rubyonrails.org/contributing_to_ruby_on_rails.html">Contributing to Ruby on Rails</a></dd>
                <dd><a href="http://guides.rubyonrails.org/api_documentation_guidelines.html">API Documentation Guidelines</a></dd>
                <dd><a href="http://guides.rubyonrails.org/ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</a></dd>
                <dt>Maintenance Policy</dt>
                <dd><a href="http://guides.rubyonrails.org/maintenance_policy.html">Maintenance Policy</a></dd>
                <dt>Release Notes</dt>
                <dd><a href="http://guides.rubyonrails.org/upgrading_ruby_on_rails.html">Upgrading Ruby on Rails</a></dd>
                <dd><a href="http://guides.rubyonrails.org/4_2_release_notes.html">Ruby on Rails 4.2 Release Notes</a></dd>
                <dd><a href="http://guides.rubyonrails.org/4_1_release_notes.html">Ruby on Rails 4.1 Release Notes</a></dd>
                <dd><a href="http://guides.rubyonrails.org/4_0_release_notes.html">Ruby on Rails 4.0 Release Notes</a></dd>
                <dd><a href="http://guides.rubyonrails.org/3_2_release_notes.html">Ruby on Rails 3.2 Release Notes</a></dd>
                <dd><a href="http://guides.rubyonrails.org/3_1_release_notes.html">Ruby on Rails 3.1 Release Notes</a></dd>
                <dd><a href="http://guides.rubyonrails.org/3_0_release_notes.html">Ruby on Rails 3.0 Release Notes</a></dd>
                <dd><a href="http://guides.rubyonrails.org/2_3_release_notes.html">Ruby on Rails 2.3 Release Notes</a></dd>
                <dd><a href="http://guides.rubyonrails.org/2_2_release_notes.html">Ruby on Rails 2.2 Release Notes</a></dd>
              </dl>
          </div>
        </li>
        <li><a class="nav-item" href="http://guides.rubyonrails.org/contributing_to_ruby_on_rails.html">Contribute</a></li>
        <li><a class="nav-item" href="http://guides.rubyonrails.org/credits.html">Credits</a></li>
        <li class="guides-index guides-index-small">
          <select class="guides-index-item nav-item">
            <option value="index.html">Guides Index</option>
              <optgroup label="Start Here">
                  <option value="getting_started.html">Getting Started with Rails</option>
              </optgroup>
              <optgroup label="Models">
                  <option value="active_record_basics.html">Active Record Basics</option>
                  <option value="active_record_migrations.html">Active Record Migrations</option>
                  <option value="active_record_validations.html">Active Record Validations</option>
                  <option value="active_record_callbacks.html">Active Record Callbacks</option>
                  <option value="association_basics.html">Active Record Associations</option>
                  <option value="active_record_querying.html">Active Record Query Interface</option>
              </optgroup>
              <optgroup label="Views">
                  <option value="layouts_and_rendering.html">Layouts and Rendering in Rails</option>
                  <option value="form_helpers.html">Action View Form Helpers</option>
              </optgroup>
              <optgroup label="Controllers">
                  <option value="action_controller_overview.html">Action Controller Overview</option>
                  <option value="routing.html">Rails Routing from the Outside In</option>
              </optgroup>
              <optgroup label="Digging Deeper">
                  <option value="active_support_core_extensions.html">Active Support Core Extensions</option>
                  <option value="i18n.html">Rails Internationalization API</option>
                  <option value="action_mailer_basics.html">Action Mailer Basics</option>
                  <option value="active_job_basics.html">Active Job Basics</option>
                  <option value="security.html">Securing Rails Applications</option>
                  <option value="debugging_rails_applications.html">Debugging Rails Applications</option>
                  <option value="configuring.html">Configuring Rails Applications</option>
                  <option value="command_line.html">Rails Command Line Tools and Rake Tasks</option>
                  <option value="asset_pipeline.html">Asset Pipeline</option>
                  <option value="working_with_javascript_in_rails.html">Working with JavaScript in Rails</option>
                  <option value="autoloading_and_reloading_constants.html">Autoloading and Reloading Constants</option>
              </optgroup>
              <optgroup label="Extending Rails">
                  <option value="rails_on_rack.html">Rails on Rack</option>
                  <option value="generators.html">Creating and Customizing Rails Generators</option>
              </optgroup>
              <optgroup label="Contributing to Ruby on Rails">
                  <option value="contributing_to_ruby_on_rails.html">Contributing to Ruby on Rails</option>
                  <option value="api_documentation_guidelines.html">API Documentation Guidelines</option>
                  <option value="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</option>
              </optgroup>
              <optgroup label="Maintenance Policy">
                  <option value="maintenance_policy.html">Maintenance Policy</option>
              </optgroup>
              <optgroup label="Release Notes">
                  <option value="upgrading_ruby_on_rails.html">Upgrading Ruby on Rails</option>
                  <option value="4_2_release_notes.html">Ruby on Rails 4.2 Release Notes</option>
                  <option value="4_1_release_notes.html">Ruby on Rails 4.1 Release Notes</option>
                  <option value="4_0_release_notes.html">Ruby on Rails 4.0 Release Notes</option>
                  <option value="3_2_release_notes.html">Ruby on Rails 3.2 Release Notes</option>
                  <option value="3_1_release_notes.html">Ruby on Rails 3.1 Release Notes</option>
                  <option value="3_0_release_notes.html">Ruby on Rails 3.0 Release Notes</option>
                  <option value="2_3_release_notes.html">Ruby on Rails 2.3 Release Notes</option>
                  <option value="2_2_release_notes.html">Ruby on Rails 2.2 Release Notes</option>
              </optgroup>
          </select>
        </li>
      </ul>
    </div>
  </div>
  <hr class="hide">

  <div id="feature">
    <div class="wrapper">
      <h2>Action View Overview</h2><p>After reading this guide, you will know:</p>
<ul>
<li>What Action View is and how to use it with Rails.</li>
<li>How best to use templates, partials, and layouts.</li>
<li>What helpers are provided by Action View and how to make your own.</li>
<li>How to use localized views.</li>
</ul>


                <div id="subCol">
            <h3 class="chapter"><img src="./actionview_files/chapters_icon.gif" alt="">Chapters</h3>
            <ol class="chapters">
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#what-is-action-view-questionmark">What is Action View?</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#using-action-view-with-rails">Using Action View with Rails</a></li>
<li>
<a href="http://guides.rubyonrails.org/action_view_overview.html#templates-partials-and-layouts">Templates, Partials and Layouts</a>

<ul>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#templates">Templates</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#partials">Partials</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#layouts">Layouts</a></li>
</ul>
</li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#partial-layouts">Partial Layouts</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#view-paths">View Paths</a></li>
<li>
<a href="http://guides.rubyonrails.org/action_view_overview.html#overview-of-helpers-provided-by-action-view">Overview of helpers provided by Action View</a>

<ul>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#recordtaghelper">RecordTagHelper</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#assettaghelper">AssetTagHelper</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#atomfeedhelper">AtomFeedHelper</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#benchmarkhelper">BenchmarkHelper</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#cachehelper">CacheHelper</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#capturehelper">CaptureHelper</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#datehelper">DateHelper</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#debughelper">DebugHelper</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#formhelper">FormHelper</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#formoptionshelper">FormOptionsHelper</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#formtaghelper">FormTagHelper</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#javascripthelper">JavaScriptHelper</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#numberhelper">NumberHelper</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#sanitizehelper">SanitizeHelper</a></li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#csrfhelper">CsrfHelper</a></li>
</ul>
</li>
<li><a href="http://guides.rubyonrails.org/action_view_overview.html#localized-views">Localized Views</a></li>
</ol>

          </div>

    </div>
  </div>

  <div id="container">
    <div class="wrapper">
      <div id="mainCol">
        <h3 id="what-is-action-view-questionmark">1 What is Action View?</h3><p>Action View and Action Controller are the two major components of Action Pack. In Rails, web requests are handled by Action Pack, which splits the work into a controller part (performing the logic) and a view part (rendering a template). Typically, Action Controller will be concerned with communicating with the database and performing CRUD actions where necessary. Action View is then responsible for compiling the response.</p><p>Action View templates are written using embedded Ruby in tags mingled with HTML. To avoid cluttering the templates with boilerplate code, a number of helper classes provide common behavior for forms, dates, and strings. It's also easy to add new helpers to your application as it evolves.</p><div class="note"><p>Some features of Action View are tied to Active Record, but that doesn't mean Action View depends on Active Record. Action View is an independent package that can be used with any sort of Ruby libraries.</p></div><h3 id="using-action-view-with-rails">2 Using Action View with Rails</h3><p>For each controller there is an associated directory in the <code>app/views</code> directory which holds the template files that make up the views associated with that controller. These files are used to display the view that results from each controller action.</p><p>Let's take a look at what Rails does by default when creating a new resource using the scaffold generator:</p><div class="code_container">
<div><div id="highlighter_4164" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">$ bin/rails generate scaffold article</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[...]</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">invoke&nbsp; scaffold_controller</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">create&nbsp;&nbsp;&nbsp; app/controllers/articles_controller.rb</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">invoke&nbsp;&nbsp;&nbsp; erb</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">create&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; app/views/articles</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">create&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; app/views/articles/index.html.erb</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">create&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; app/views/articles/edit.html.erb</code></div><div class="line number9 index8 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">create&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; app/views/articles/show.html.erb</code></div><div class="line number10 index9 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">create&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; app/views/articles/new.html.erb</code></div><div class="line number11 index10 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">create&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; app/views/articles/_form.html.erb</code></div><div class="line number12 index11 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">[...]</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>There is a naming convention for views in Rails. Typically, the views share their name with the associated controller action, as you can see above.
For example, the index controller action of the <code>articles_controller.rb</code> will use the <code>index.html.erb</code> view file in the <code>app/views/articles</code> directory.
The complete HTML returned to the client is composed of a combination of this ERB file, a layout template that wraps it, and all the partials that the view may reference. Within this guide you will find more detailed documentation about each of these three components.</p><h3 id="templates-partials-and-layouts">3 Templates, Partials and Layouts</h3><p>As mentioned, the final HTML output is a composition of three Rails elements: <code>Templates</code>, <code>Partials</code> and <code>Layouts</code>.
Below is a brief overview of each of them.</p><h4 id="templates">3.1 Templates</h4><p>Action View templates can be written in several ways. If the template file has a <code>.erb</code> extension then it uses a mixture of ERB (Embedded Ruby) and HTML. If the template file has a <code>.builder</code> extension then the <code>Builder::XmlMarkup</code> library is used.</p><p>Rails supports multiple template systems and uses a file extension to distinguish amongst them. For example, an HTML file using the ERB template system will have <code>.html.erb</code> as a file extension.</p><h5 id="erb">3.1.1 ERB</h5><p>Within an ERB template, Ruby code can be included using both <code>&lt;% %&gt;</code> and <code>&lt;%= %&gt;</code> tags. The <code>&lt;% %&gt;</code> tags are used to execute Ruby code that does not return anything, such as conditions, loops or blocks, and the <code>&lt;%= %&gt;</code> tags are used when you want output.</p><p>Consider the following loop for names:</p><div class="code_container">
<div><div id="highlighter_64352" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;h1&gt;Names of all the people&lt;/h1&gt;</code></div><div class="line number2 index1 alt1"><code class="plain plain">&lt;% @people.each do |person| %&gt;</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">Name: &lt;%= person.name %&gt;&lt;br&gt;</code></div><div class="line number4 index3 alt1"><code class="plain plain">&lt;% end %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>The loop is set up using regular embedding tags (<code>&lt;% %&gt;</code>) and the name is inserted using the output embedding tags (<code>&lt;%= %&gt;</code>). Note that this is not just a usage suggestion: regular output functions such as <code>print</code> and <code>puts</code> won't be rendered to the view with ERB templates. So this would be wrong:</p><div class="code_container">
<div><div id="highlighter_165186" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;%# WRONG %&gt;</code></div><div class="line number2 index1 alt1"><code class="plain plain">Hi, Mr. &lt;% puts "Frodo" %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>To suppress leading and trailing whitespaces, you can use <code>&lt;%-</code> <code>-%&gt;</code> interchangeably with <code>&lt;%</code> and <code>%&gt;</code>.</p><h5 id="builder">3.1.2 Builder</h5><p>Builder templates are a more programmatic alternative to ERB. They are especially useful for generating XML content. An XmlMarkup object named <code>xml</code> is automatically made available to templates with a <code>.builder</code> extension.</p><p>Here are some basic examples:</p><div class="code_container">
<div><div id="highlighter_148051" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">xml.em(</code><code class="ruby string">"emphasized"</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby plain">xml.em { xml.b(</code><code class="ruby string">"emph &amp; bold"</code><code class="ruby plain">) }</code></div><div class="line number3 index2 alt2"><code class="ruby plain">xml.a(</code><code class="ruby string">"A Link"</code><code class="ruby plain">, </code><code class="ruby string">"href"</code> <code class="ruby plain">=&gt; </code><code class="ruby string">"http://rubyonrails.org"</code><code class="ruby plain">)</code></div><div class="line number4 index3 alt1"><code class="ruby plain">xml.target(</code><code class="ruby string">"name"</code> <code class="ruby plain">=&gt; </code><code class="ruby string">"compile"</code><code class="ruby plain">, </code><code class="ruby string">"option"</code> <code class="ruby plain">=&gt; </code><code class="ruby string">"fast"</code><code class="ruby plain">)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>which would produce:</p><div class="code_container">
<div><div id="highlighter_220555" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">em</code><code class="xml plain">&gt;emphasized&lt;/</code><code class="xml keyword">em</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">em</code><code class="xml plain">&gt;&lt;</code><code class="xml keyword">b</code><code class="xml plain">&gt;emph &amp;amp; bold&lt;/</code><code class="xml keyword">b</code><code class="xml plain">&gt;&lt;/</code><code class="xml keyword">em</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">a</code> <code class="xml color1">href</code><code class="xml plain">=</code><code class="xml string">"http://rubyonrails.org"</code><code class="xml plain">&gt;A link&lt;/</code><code class="xml keyword">a</code><code class="xml plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">target</code> <code class="xml color1">option</code><code class="xml plain">=</code><code class="xml string">"fast"</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"compile"</code> <code class="xml plain">/&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Any method with a block will be treated as an XML markup tag with nested markup in the block. For example, the following:</p><div class="code_container">
<div><div id="highlighter_566920" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">xml.div {</code></div><div class="line number2 index1 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">xml.h1(</code><code class="ruby variable bold">@person</code><code class="ruby plain">.name)</code></div><div class="line number3 index2 alt2"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">xml.p(</code><code class="ruby variable bold">@person</code><code class="ruby plain">.bio)</code></div><div class="line number4 index3 alt1"><code class="ruby plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>would produce something like:</p><div class="code_container">
<div><div id="highlighter_444183" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">div</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">h1</code><code class="xml plain">&gt;David Heinemeier Hansson&lt;/</code><code class="xml keyword">h1</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">p</code><code class="xml plain">&gt;A product of Danish Design during the Winter of '79...&lt;/</code><code class="xml keyword">p</code><code class="xml plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">div</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Below is a full-length RSS example actually used on Basecamp:</p><div class="code_container">
<div><div id="highlighter_781763" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">xml.rss(</code><code class="ruby string">"version"</code> <code class="ruby plain">=&gt; </code><code class="ruby string">"2.0"</code><code class="ruby plain">, </code><code class="ruby string">"xmlns:dc"</code> <code class="ruby plain">=&gt; </code><code class="ruby string">"http://purl.org/dc/elements/1.1/"</code><code class="ruby plain">) </code><code class="ruby keyword">do</code></div><div class="line number2 index1 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">xml.channel </code><code class="ruby keyword">do</code></div><div class="line number3 index2 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">xml.title(</code><code class="ruby variable bold">@feed_title</code><code class="ruby plain">)</code></div><div class="line number4 index3 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">xml.link(</code><code class="ruby variable bold">@url</code><code class="ruby plain">)</code></div><div class="line number5 index4 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">xml.description </code><code class="ruby string">"Basecamp: Recent items"</code></div><div class="line number6 index5 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">xml.language </code><code class="ruby string">"en-us"</code></div><div class="line number7 index6 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">xml.ttl </code><code class="ruby string">"40"</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby keyword">for</code> <code class="ruby plain">item </code><code class="ruby keyword">in</code> <code class="ruby variable bold">@recent_items</code></div><div class="line number10 index9 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">xml.item </code><code class="ruby keyword">do</code></div><div class="line number11 index10 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">xml.title(item_title(item))</code></div><div class="line number12 index11 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">xml.description(item_description(item)) </code><code class="ruby keyword">if</code> <code class="ruby plain">item_description(item)</code></div><div class="line number13 index12 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">xml.pubDate(item_pubDate(item))</code></div><div class="line number14 index13 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">xml.guid(</code><code class="ruby variable bold">@person</code><code class="ruby plain">.firm.account.url + </code><code class="ruby variable bold">@recent_items</code><code class="ruby plain">.url(item))</code></div><div class="line number15 index14 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">xml.link(</code><code class="ruby variable bold">@person</code><code class="ruby plain">.firm.account.url + </code><code class="ruby variable bold">@recent_items</code><code class="ruby plain">.url(item))</code></div><div class="line number16 index15 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">xml.tag!(</code><code class="ruby string">"dc:creator"</code><code class="ruby plain">, item.author_name) </code><code class="ruby keyword">if</code> <code class="ruby plain">item_has_creator?(item)</code></div><div class="line number17 index16 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby keyword">end</code></div><div class="line number18 index17 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby keyword">end</code></div><div class="line number19 index18 alt2"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby keyword">end</code></div><div class="line number20 index19 alt1"><code class="ruby keyword">end</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="template-caching">3.1.3 Template Caching</h5><p>By default, Rails will compile each template to a method in order to render it. When you alter a template, Rails will check the file's modification time and recompile it in development mode.</p><h4 id="partials">3.2 Partials</h4><p>Partial templates - usually just called "partials" - are another device for breaking the rendering process into more manageable chunks. With partials, you can extract pieces of code from your templates to separate files and also reuse them throughout your templates.</p><h5 id="naming-partials">3.2.1 Naming Partials</h5><p>To render a partial as part of a view, you use the <code>render</code> method within the view:</p><div class="code_container">
<div><div id="highlighter_138520" class="syntaxhighlighter nogutter  htmlscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby script">&lt;%=</code> <code class="ruby plain">render </code><code class="ruby string">"menu"</code> <code class="ruby script">%&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>This will render a file named <code>_menu.html.erb</code> at that point within the view that is being rendered. Note the leading underscore character: partials are named with a leading underscore to distinguish them from regular views, even though they are referred to without the underscore. This holds true even when you're pulling in a partial from another folder:</p><div class="code_container">
<div><div id="highlighter_717822" class="syntaxhighlighter nogutter  htmlscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby script">&lt;%=</code> <code class="ruby plain">render </code><code class="ruby string">"shared/menu"</code> <code class="ruby script">%&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>That code will pull in the partial from <code>app/views/shared/_menu.html.erb</code>.</p><h5 id="using-partials-to-simplify-views">3.2.2 Using Partials to simplify Views</h5><p>One way to use partials is to treat them as the equivalent of subroutines; a way to move details out of a view so that you can grasp what's going on more easily. For example, you might have a view that looks like this:</p><div class="code_container">
<div><div id="highlighter_318529" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;%= render "shared/ad_banner" %&gt;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="plain plain">&lt;h1&gt;Products&lt;/h1&gt;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="plain plain">&lt;p&gt;Here are a few of our fine products:&lt;/p&gt;</code></div><div class="line number6 index5 alt1"><code class="plain plain">&lt;% @products.each do |product| %&gt;</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;%= render partial: "product", locals: {product: product} %&gt;</code></div><div class="line number8 index7 alt1"><code class="plain plain">&lt;% end %&gt;</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="plain plain">&lt;%= render "shared/footer" %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Here, the <code>_ad_banner.html.erb</code> and <code>_footer.html.erb</code> partials could contain content that is shared among many pages in your application. You don't need to see the details of these sections when you're concentrating on a particular page.</p><h5 id="the-as-and-object-options">3.2.3 The <code>as</code> and <code>object</code> options</h5><p>By default <code>ActionView::Partials::PartialRenderer</code> has its object in a local variable with the same name as the template. So, given:</p><div class="code_container">
<div><div id="highlighter_243288" class="syntaxhighlighter nogutter  htmlscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby script">&lt;%=</code> <code class="ruby plain">render partial: </code><code class="ruby string">"product"</code> <code class="ruby script">%&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>within product we'll get <code>@product</code> in the local variable <code>product</code>, as if we had written:</p><div class="code_container">
<div><div id="highlighter_536614" class="syntaxhighlighter nogutter  htmlscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby script">&lt;%=</code> <code class="ruby plain">render partial: </code><code class="ruby string">"product"</code><code class="ruby plain">, locals: {product: </code><code class="ruby variable bold">@product</code><code class="ruby plain">} </code><code class="ruby script">%&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>With the <code>as</code> option we can specify a different name for the local variable. For example, if we wanted it to be <code>item</code> instead of <code>product</code> we would do:</p><div class="code_container">
<div><div id="highlighter_70141" class="syntaxhighlighter nogutter  htmlscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby script">&lt;%=</code> <code class="ruby plain">render partial: </code><code class="ruby string">"product"</code><code class="ruby plain">, as: </code><code class="ruby string">"item"</code> <code class="ruby script">%&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>The <code>object</code> option can be used to directly specify which object is rendered into the partial; useful when the template's object is elsewhere (eg. in a different instance variable or in a local variable).</p><p>For example, instead of:</p><div class="code_container">
<div><div id="highlighter_580627" class="syntaxhighlighter nogutter  htmlscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby script">&lt;%=</code> <code class="ruby plain">render partial: </code><code class="ruby string">"product"</code><code class="ruby plain">, locals: {product: </code><code class="ruby variable bold">@item</code><code class="ruby plain">} </code><code class="ruby script">%&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>we would do:</p><div class="code_container">
<div><div id="highlighter_456948" class="syntaxhighlighter nogutter  htmlscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby script">&lt;%=</code> <code class="ruby plain">render partial: </code><code class="ruby string">"product"</code><code class="ruby plain">, object: </code><code class="ruby variable bold">@item</code> <code class="ruby script">%&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>The <code>object</code> and <code>as</code> options can also be used together:</p><div class="code_container">
<div><div id="highlighter_782474" class="syntaxhighlighter nogutter  htmlscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby script">&lt;%=</code> <code class="ruby plain">render partial: </code><code class="ruby string">"product"</code><code class="ruby plain">, object: </code><code class="ruby variable bold">@item</code><code class="ruby plain">, as: </code><code class="ruby string">"item"</code> <code class="ruby script">%&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="rendering-collections">3.2.4 Rendering Collections</h5><p>It is very common that a template will need to iterate over a collection and render a sub-template for each of the elements. This pattern has been implemented as a single method that accepts an array and renders a partial for each one of the elements in the array.</p><p>So this example for rendering all the products:</p><div class="code_container">
<div><div id="highlighter_72486" class="syntaxhighlighter nogutter  htmlscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby script">&lt;%</code> <code class="ruby variable bold">@products</code><code class="ruby plain">.</code><code class="ruby keyword">each</code> <code class="ruby keyword">do</code> <code class="ruby plain">|product| </code><code class="ruby script">%&gt;</code></div><div class="line number2 index1 alt1"><code class="htmlscript spaces">&nbsp;&nbsp;</code><code class="ruby script">&lt;%=</code> <code class="ruby plain">render partial: </code><code class="ruby string">"product"</code><code class="ruby plain">, locals: { product: product } </code><code class="ruby script">%&gt;</code></div><div class="line number3 index2 alt2"><code class="ruby script">&lt;%</code> <code class="ruby keyword">end</code> <code class="ruby script">%&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>can be rewritten in a single line:</p><div class="code_container">
<div><div id="highlighter_16125" class="syntaxhighlighter nogutter  htmlscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby script">&lt;%=</code> <code class="ruby plain">render partial: </code><code class="ruby string">"product"</code><code class="ruby plain">, collection: </code><code class="ruby variable bold">@products</code> <code class="ruby script">%&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>When a partial is called with a collection, the individual instances of the partial have access to the member of the collection being rendered via a variable named after the partial. In this case, the partial is <code>_product</code>, and within it you can refer to <code>product</code> to get the collection member that is being rendered.</p><p>You can use a shorthand syntax for rendering collections. Assuming <code>@products</code> is a collection of <code>Product</code> instances, you can simply write the following to produce the same result:</p><div class="code_container">
<div><div id="highlighter_542407" class="syntaxhighlighter nogutter  htmlscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby script">&lt;%=</code> <code class="ruby plain">render </code><code class="ruby variable bold">@products</code> <code class="ruby script">%&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Rails determines the name of the partial to use by looking at the model name in the collection, <code>Product</code> in this case. In fact, you can even render a collection made up of instances of different models using this shorthand, and Rails will choose the proper partial for each member of the collection.</p><h5 id="spacer-templates">3.2.5 Spacer Templates</h5><p>You can also specify a second partial to be rendered between instances of the main partial by using the <code>:spacer_template</code> option:</p><div class="code_container">
<div><div id="highlighter_551703" class="syntaxhighlighter nogutter  htmlscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby script">&lt;%=</code> <code class="ruby plain">render partial: </code><code class="ruby variable bold">@products</code><code class="ruby plain">, spacer_template: </code><code class="ruby string">"product_ruler"</code> <code class="ruby script">%&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Rails will render the <code>_product_ruler</code> partial (with no data passed to it) between each pair of <code>_product</code> partials.</p><h4 id="layouts">3.3 Layouts</h4><p>Layouts can be used to render a common view template around the results of Rails controller actions. Typically, a Rails application will have a couple of layouts that pages will be rendered within. For example, a site might have one layout for a logged in user and another for the marketing or sales side of the site. The logged in user layout might include top-level navigation that should be present across many controller actions. The sales layout for a SaaS app might include top-level navigation for things like "Pricing" and "Contact Us" pages. You would expect each layout to have a different look and feel. You can read about layouts in more detail in the <a href="http://guides.rubyonrails.org/layouts_and_rendering.html">Layouts and Rendering in Rails</a> guide.</p><h3 id="partial-layouts">4 Partial Layouts</h3><p>Partials can have their own layouts applied to them. These layouts are different from those applied to a controller action, but they work in a similar fashion.</p><p>Let's say we're displaying an article on a page which should be wrapped in a <code>div</code> for display purposes. Firstly, we'll create a new <code>Article</code>:</p><div class="code_container">
<div><div id="highlighter_242119" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">Article.create(body: </code><code class="ruby string">'Partial Layouts are cool!'</code><code class="ruby plain">)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>In the <code>show</code> template, we'll render the <code>_article</code> partial wrapped in the <code>box</code> layout:</p><p><strong>articles/show.html.erb</strong></p><div class="code_container">
<div><div id="highlighter_416828" class="syntaxhighlighter nogutter  htmlscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby script">&lt;%=</code> <code class="ruby plain">render partial: </code><code class="ruby string">'article'</code><code class="ruby plain">, layout: </code><code class="ruby string">'box'</code><code class="ruby plain">, locals: {article: </code><code class="ruby variable bold">@article</code><code class="ruby plain">} </code><code class="ruby script">%&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>The <code>box</code> layout simply wraps the <code>_article</code> partial in a <code>div</code>:</p><p><strong>articles/_box.html.erb</strong></p><div class="code_container">
<div><div id="highlighter_409484" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;div class='box'&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;%= yield %&gt;</code></div><div class="line number3 index2 alt2"><code class="plain plain">&lt;/div&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>The <code>_article</code> partial wraps the article's <code>body</code> in a <code>div</code> with the <code>id</code> of the article using the <code>div_for</code> helper:</p><p><strong>articles/_article.html.erb</strong></p><div class="code_container">
<div><div id="highlighter_851650" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;%= div_for(article) do %&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;p&gt;&lt;%= article.body %&gt;&lt;/p&gt;</code></div><div class="line number3 index2 alt2"><code class="plain plain">&lt;% end %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>this would output the following:</p><div class="code_container">
<div><div id="highlighter_160100" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">div</code> <code class="xml color1">class</code><code class="xml plain">=</code><code class="xml string">'box'</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">div</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">'article_1'</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">p</code><code class="xml plain">&gt;Partial Layouts are cool!&lt;/</code><code class="xml keyword">p</code><code class="xml plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">div</code><code class="xml plain">&gt;</code></div><div class="line number5 index4 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">div</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Note that the partial layout has access to the local <code>article</code> variable that was passed into the <code>render</code> call. However, unlike application-wide layouts, partial layouts still have the underscore prefix.</p><p>You can also render a block of code within a partial layout instead of calling <code>yield</code>. For example, if we didn't have the <code>_article</code> partial, we could do this instead:</p><p><strong>articles/show.html.erb</strong></p><div class="code_container">
<div><div id="highlighter_751031" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;% render(layout: 'box', locals: {article: @article}) do %&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;%= div_for(article) do %&gt;</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">&lt;p&gt;&lt;%= article.body %&gt;&lt;/p&gt;</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;% end %&gt;</code></div><div class="line number5 index4 alt2"><code class="plain plain">&lt;% end %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Supposing we use the same <code>_box</code> partial from above, this would produce the same output as the previous example.</p><h3 id="view-paths">5 View Paths</h3><div class="todo"><p>..</p></div><h3 id="overview-of-helpers-provided-by-action-view">6 Overview of helpers provided by Action View</h3><p>WIP: Not all the helpers are listed here. For a full list see the <a href="http://api.rubyonrails.org/classes/ActionView/Helpers.html">API documentation</a></p><p>The following is only a brief overview summary of the helpers available in Action View. It's recommended that you review the <a href="http://api.rubyonrails.org/classes/ActionView/Helpers.html">API Documentation</a>, which covers all of the helpers in more detail, but this should serve as a good starting point.</p><h4 id="recordtaghelper">6.1 RecordTagHelper</h4><p>This module provides methods for generating container tags, such as <code>div</code>, for your record. This is the recommended way of creating a container for render your Active Record object, as it adds an appropriate class and id attributes to that container. You can then refer to those containers easily by following the convention, instead of having to think about which class or id attribute you should use.</p><h5 id="content-tag-for">6.1.1 content_tag_for</h5><p>Renders a container tag that relates to your Active Record Object.</p><p>For example, given <code>@article</code> is the object of <code>Article</code> class, you can do:</p><div class="code_container">
<div><div id="highlighter_976822" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;%= content_tag_for(:tr, @article) do %&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;td&gt;&lt;%= @article.title %&gt;&lt;/td&gt;</code></div><div class="line number3 index2 alt2"><code class="plain plain">&lt;% end %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>This will generate this HTML output:</p><div class="code_container">
<div><div id="highlighter_30350" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">tr</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"article_1234"</code> <code class="xml color1">class</code><code class="xml plain">=</code><code class="xml string">"article"</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">td</code><code class="xml plain">&gt;Hello World!&lt;/</code><code class="xml keyword">td</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">tr</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>You can also supply HTML attributes as an additional option hash. For example:</p><div class="code_container">
<div><div id="highlighter_199291" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;%= content_tag_for(:tr, @article, class: "frontpage") do %&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;td&gt;&lt;%= @article.title %&gt;&lt;/td&gt;</code></div><div class="line number3 index2 alt2"><code class="plain plain">&lt;% end %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Will generate this HTML output:</p><div class="code_container">
<div><div id="highlighter_22877" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">tr</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"article_1234"</code> <code class="xml color1">class</code><code class="xml plain">=</code><code class="xml string">"article frontpage"</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">td</code><code class="xml plain">&gt;Hello World!&lt;/</code><code class="xml keyword">td</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">tr</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>You can pass a collection of Active Record objects. This method will loop through your objects and create a container for each of them. For example, given <code>@articles</code> is an array of two <code>Article</code> objects:</p><div class="code_container">
<div><div id="highlighter_453661" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;%= content_tag_for(:tr, @articles) do |article| %&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;td&gt;&lt;%= article.title %&gt;&lt;/td&gt;</code></div><div class="line number3 index2 alt2"><code class="plain plain">&lt;% end %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Will generate this HTML output:</p><div class="code_container">
<div><div id="highlighter_479096" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">tr</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"article_1234"</code> <code class="xml color1">class</code><code class="xml plain">=</code><code class="xml string">"article"</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">td</code><code class="xml plain">&gt;Hello World!&lt;/</code><code class="xml keyword">td</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">tr</code><code class="xml plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">tr</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"article_1235"</code> <code class="xml color1">class</code><code class="xml plain">=</code><code class="xml string">"article"</code><code class="xml plain">&gt;</code></div><div class="line number5 index4 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">td</code><code class="xml plain">&gt;Ruby on Rails Rocks!&lt;/</code><code class="xml keyword">td</code><code class="xml plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">tr</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="div-for">6.1.2 div_for</h5><p>This is actually a convenient method which calls <code>content_tag_for</code> internally with <code>:div</code> as the tag name. You can pass either an Active Record object or a collection of objects. For example:</p><div class="code_container">
<div><div id="highlighter_215928" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;%= div_for(@article, class: "frontpage") do %&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;td&gt;&lt;%= @article.title %&gt;&lt;/td&gt;</code></div><div class="line number3 index2 alt2"><code class="plain plain">&lt;% end %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Will generate this HTML output:</p><div class="code_container">
<div><div id="highlighter_297857" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">div</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"article_1234"</code> <code class="xml color1">class</code><code class="xml plain">=</code><code class="xml string">"article frontpage"</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">td</code><code class="xml plain">&gt;Hello World!&lt;/</code><code class="xml keyword">td</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">div</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h4 id="assettaghelper">6.2 AssetTagHelper</h4><p>This module provides methods for generating HTML that links views to assets such as images, JavaScript files, stylesheets, and feeds.</p><p>By default, Rails links to these assets on the current host in the public folder, but you can direct Rails to link to assets from a dedicated assets server by setting <code>config.action_controller.asset_host</code> in the application configuration, typically in <code>config/environments/production.rb</code>. For example, let's say your asset host is <code>assets.example.com</code>:</p><div class="code_container">
<div><div id="highlighter_323075" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">config.action_controller.asset_host = </code><code class="ruby string">"assets.example.com"</code></div><div class="line number2 index1 alt1"><code class="ruby plain">image_tag(</code><code class="ruby string">"rails.png"</code><code class="ruby plain">) </code><code class="ruby comments"># =&gt; &lt;img src="http://assets.example.com/images/rails.png" alt="Rails" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="auto-discovery-link-tag">6.2.1 auto_discovery_link_tag</h5><p>Returns a link tag that browsers and feed readers can use to auto-detect an RSS or Atom feed.</p><div class="code_container">
<div><div id="highlighter_112319" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">auto_discovery_link_tag(</code><code class="ruby color2">:rss</code><code class="ruby plain">, </code><code class="ruby string">"http://www.example.com/feed.rss"</code><code class="ruby plain">, { title: </code><code class="ruby string">"RSS Feed"</code> <code class="ruby plain">}) </code><code class="ruby comments"># =&gt;</code></div><div class="line number2 index1 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">&lt;link rel=</code><code class="ruby string">"alternate"</code> <code class="ruby plain">type=</code><code class="ruby string">"application/rss+xml"</code> <code class="ruby plain">title=</code><code class="ruby string">"RSS Feed"</code> <code class="ruby plain">href=</code><code class="ruby string">"http://www.example.com/feed.rss"</code> <code class="ruby plain">/&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="image-path">6.2.2 image_path</h5><p>Computes the path to an image asset in the <code>app/assets/images</code> directory. Full paths from the document root will be passed through. Used internally by <code>image_tag</code> to build the image path.</p><div class="code_container">
<div><div id="highlighter_942399" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">image_path(</code><code class="ruby string">"edit.png"</code><code class="ruby plain">) </code><code class="ruby comments"># =&gt; /assets/edit.png</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Fingerprint will be added to the filename if config.assets.digest is set to true.</p><div class="code_container">
<div><div id="highlighter_468124" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">image_path(</code><code class="ruby string">"edit.png"</code><code class="ruby plain">) </code><code class="ruby comments"># =&gt; /assets/edit-2d1a2db63fc738690021fedb5a65b68e.png</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="image-url">6.2.3 image_url</h5><p>Computes the url to an image asset in the <code>app/assets/images</code> directory. This will call <code>image_path</code> internally and merge with your current host or your asset host.</p><div class="code_container">
<div><div id="highlighter_266893" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">image_url(</code><code class="ruby string">"edit.png"</code><code class="ruby plain">) </code><code class="ruby comments"># =&gt; http://www.example.com/assets/edit.png</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="image-tag">6.2.4 image_tag</h5><p>Returns an HTML image tag for the source. The source can be a full path or a file that exists in your <code>app/assets/images</code> directory.</p><div class="code_container">
<div><div id="highlighter_182161" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">image_tag(</code><code class="ruby string">"icon.png"</code><code class="ruby plain">) </code><code class="ruby comments"># =&gt; &lt;img src="/assets/icon.png" alt="Icon" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="javascript-include-tag">6.2.5 javascript_include_tag</h5><p>Returns an HTML script tag for each of the sources provided. You can pass in the filename (<code>.js</code> extension is optional) of JavaScript files that exist in your <code>app/assets/javascripts</code> directory for inclusion into the current page or you can pass the full path relative to your document root.</p><div class="code_container">
<div><div id="highlighter_407847" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">javascript_include_tag </code><code class="ruby string">"common"</code> <code class="ruby comments"># =&gt; &lt;script src="/assets/common.js"&gt;&lt;/script&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>If the application does not use the asset pipeline, to include the jQuery JavaScript library in your application, pass <code>:defaults</code> as the source. When using <code>:defaults</code>, if an <code>application.js</code> file exists in your <code>app/assets/javascripts</code> directory, it will be included as well.</p><div class="code_container">
<div><div id="highlighter_349681" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">javascript_include_tag </code><code class="ruby color2">:defaults</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>You can also include all JavaScript files in the <code>app/assets/javascripts</code> directory using <code>:all</code> as the source.</p><div class="code_container">
<div><div id="highlighter_669705" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">javascript_include_tag </code><code class="ruby color2">:all</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>You can also cache multiple JavaScript files into one file, which requires less HTTP connections to download and can better be compressed by gzip (leading to faster transfers). Caching will only happen if <code>ActionController::Base.perform_caching</code> is set to true (which is the case by default for the Rails production environment, but not for the development environment).</p><div class="code_container">
<div><div id="highlighter_660872" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">javascript_include_tag </code><code class="ruby color2">:all</code><code class="ruby plain">, cache: </code><code class="ruby keyword">true</code> <code class="ruby comments"># =&gt;</code></div><div class="line number2 index1 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">&lt;script src=</code><code class="ruby string">"/javascripts/all.js"</code><code class="ruby plain">&gt;&lt;/script&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="javascript-path">6.2.6 javascript_path</h5><p>Computes the path to a JavaScript asset in the <code>app/assets/javascripts</code> directory. If the source filename has no extension, <code>.js</code> will be appended. Full paths from the document root will be passed through. Used internally by <code>javascript_include_tag</code> to build the script path.</p><div class="code_container">
<div><div id="highlighter_456764" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">javascript_path </code><code class="ruby string">"common"</code> <code class="ruby comments"># =&gt; /assets/common.js</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="javascript-url">6.2.7 javascript_url</h5><p>Computes the url to a JavaScript asset in the <code>app/assets/javascripts</code> directory. This will call <code>javascript_path</code> internally and merge with your current host or your asset host.</p><div class="code_container">
<div><div id="highlighter_503168" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">javascript_url </code><code class="ruby string">"common"</code> <code class="ruby comments"># =&gt; http://www.example.com/assets/common.js</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="stylesheet-link-tag">6.2.8 stylesheet_link_tag</h5><p>Returns a stylesheet link tag for the sources specified as arguments. If you don't specify an extension, <code>.css</code> will be appended automatically.</p><div class="code_container">
<div><div id="highlighter_74670" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">stylesheet_link_tag </code><code class="ruby string">"application"</code> <code class="ruby comments"># =&gt; &lt;link href="/assets/application.css" media="screen" rel="stylesheet" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>You can also include all styles in the stylesheet directory using :all as the source:</p><div class="code_container">
<div><div id="highlighter_280857" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">stylesheet_link_tag </code><code class="ruby color2">:all</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>You can also cache multiple stylesheets into one file, which requires less HTTP connections and can better be compressed by gzip (leading to faster transfers). Caching will only happen if ActionController::Base.perform_caching is set to true (which is the case by default for the Rails production environment, but not for the development environment).</p><div class="code_container">
<div><div id="highlighter_805026" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">stylesheet_link_tag </code><code class="ruby color2">:all</code><code class="ruby plain">, cache: </code><code class="ruby keyword">true</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;link href="/assets/all.css" media="screen" rel="stylesheet" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="stylesheet-path">6.2.9 stylesheet_path</h5><p>Computes the path to a stylesheet asset in the <code>app/assets/stylesheets</code> directory. If the source filename has no extension, .css will be appended. Full paths from the document root will be passed through. Used internally by stylesheet_link_tag to build the stylesheet path.</p><div class="code_container">
<div><div id="highlighter_645438" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">stylesheet_path </code><code class="ruby string">"application"</code> <code class="ruby comments"># =&gt; /assets/application.css</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="stylesheet-url">6.2.10 stylesheet_url</h5><p>Computes the url to a stylesheet asset in the <code>app/assets/stylesheets</code> directory. This will call <code>stylesheet_path</code> internally and merge with your current host or your asset host.</p><div class="code_container">
<div><div id="highlighter_351759" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">stylesheet_url </code><code class="ruby string">"application"</code> <code class="ruby comments"># =&gt; http://www.example.com/assets/application.css</code></div></div></td></tr></tbody></table></div></div>
</div>
<h4 id="atomfeedhelper">6.3 AtomFeedHelper</h4><h5 id="atom-feed">6.3.1 atom_feed</h5><p>This helper makes building an Atom feed easy. Here's a full usage example:</p><p><strong>config/routes.rb</strong></p><div class="code_container">
<div><div id="highlighter_150843" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">resources </code><code class="ruby color2">:articles</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong>app/controllers/articles_controller.rb</strong></p><div class="code_container">
<div><div id="highlighter_618117" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby keyword">def</code> <code class="ruby plain">index</code></div><div class="line number2 index1 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby variable bold">@articles</code> <code class="ruby plain">= Article.all</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">respond_to </code><code class="ruby keyword">do</code> <code class="ruby plain">|format|</code></div><div class="line number5 index4 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">format.html</code></div><div class="line number6 index5 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">format.atom</code></div><div class="line number7 index6 alt2"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby keyword">end</code></div><div class="line number8 index7 alt1"><code class="ruby keyword">end</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong>app/views/articles/index.atom.builder</strong></p><div class="code_container">
<div><div id="highlighter_439085" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">atom_feed </code><code class="ruby keyword">do</code> <code class="ruby plain">|feed|</code></div><div class="line number2 index1 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">feed.title(</code><code class="ruby string">"Articles Index"</code><code class="ruby plain">)</code></div><div class="line number3 index2 alt2"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">feed.updated((</code><code class="ruby variable bold">@articles</code><code class="ruby plain">.first.created_at))</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby variable bold">@articles</code><code class="ruby plain">.</code><code class="ruby keyword">each</code> <code class="ruby keyword">do</code> <code class="ruby plain">|article|</code></div><div class="line number6 index5 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">feed.entry(article) </code><code class="ruby keyword">do</code> <code class="ruby plain">|entry|</code></div><div class="line number7 index6 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">entry.title(article.title)</code></div><div class="line number8 index7 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">entry.content(article.body, type: </code><code class="ruby string">'html'</code><code class="ruby plain">)</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">entry.author </code><code class="ruby keyword">do</code> <code class="ruby plain">|author|</code></div><div class="line number11 index10 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby plain">author.name(article.author_name)</code></div><div class="line number12 index11 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby keyword">end</code></div><div class="line number13 index12 alt2"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby keyword">end</code></div><div class="line number14 index13 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby keyword">end</code></div><div class="line number15 index14 alt2"><code class="ruby keyword">end</code></div></div></td></tr></tbody></table></div></div>
</div>
<h4 id="benchmarkhelper">6.4 BenchmarkHelper</h4><h5 id="benchmark">6.4.1 benchmark</h5><p>Allows you to measure the execution time of a block in a template and records the result to the log. Wrap this block around expensive operations or possible bottlenecks to get a time reading for the operation.</p><div class="code_container">
<div><div id="highlighter_631996" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;% benchmark "Process data files" do %&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;%= expensive_files_operation %&gt;</code></div><div class="line number3 index2 alt2"><code class="plain plain">&lt;% end %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>This would add something like "Process data files (0.34523)" to the log, which you can then use to compare timings when optimizing your code.</p><h4 id="cachehelper">6.5 CacheHelper</h4><h5 id="cache">6.5.1 cache</h5><p>A method for caching fragments of a view rather than an entire action or page. This technique is useful caching pieces like menus, lists of news topics, static HTML fragments, and so on. This method takes a block that contains the content you wish to cache. See <code>ActionController::Caching::Fragments</code> for more information.</p><div class="code_container">
<div><div id="highlighter_873906" class="syntaxhighlighter nogutter  htmlscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby script">&lt;%</code> <code class="ruby plain">cache </code><code class="ruby keyword">do</code> <code class="ruby script">%&gt;</code></div><div class="line number2 index1 alt1"><code class="htmlscript spaces">&nbsp;&nbsp;</code><code class="ruby script">&lt;%=</code> <code class="ruby plain">render </code><code class="ruby string">"shared/footer"</code> <code class="ruby script">%&gt;</code></div><div class="line number3 index2 alt2"><code class="ruby script">&lt;%</code> <code class="ruby keyword">end</code> <code class="ruby script">%&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h4 id="capturehelper">6.6 CaptureHelper</h4><h5 id="capture">6.6.1 capture</h5><p>The <code>capture</code> method allows you to extract part of a template into a variable. You can then use this variable anywhere in your templates or layout.</p><div class="code_container">
<div><div id="highlighter_615511" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;% @greeting = capture do %&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;p&gt;Welcome! The date and time is &lt;%= Time.now %&gt;&lt;/p&gt;</code></div><div class="line number3 index2 alt2"><code class="plain plain">&lt;% end %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>The captured variable can then be used anywhere else.</p><div class="code_container">
<div><div id="highlighter_868291" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;html&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;head&gt;</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">&lt;title&gt;Welcome!&lt;/title&gt;</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;/head&gt;</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;body&gt;</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">&lt;%= @greeting %&gt;</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;/body&gt;</code></div><div class="line number8 index7 alt1"><code class="plain plain">&lt;/html&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="content-for">6.6.2 content_for</h5><p>Calling <code>content_for</code> stores a block of markup in an identifier for later use. You can make subsequent calls to the stored content in other templates or the layout by passing the identifier as an argument to <code>yield</code>.</p><p>For example, let's say we have a standard application layout, but also a special page that requires certain JavaScript that the rest of the site doesn't need. We can use <code>content_for</code> to include this JavaScript on our special page without fattening up the rest of the site.</p><p><strong>app/views/layouts/application.html.erb</strong></p><div class="code_container">
<div><div id="highlighter_368304" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;html&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;head&gt;</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">&lt;title&gt;Welcome!&lt;/title&gt;</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">&lt;%= yield :special_script %&gt;</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;/head&gt;</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;body&gt;</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">&lt;p&gt;Welcome! The date and time is &lt;%= Time.now %&gt;&lt;/p&gt;</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;/body&gt;</code></div><div class="line number9 index8 alt2"><code class="plain plain">&lt;/html&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong>app/views/articles/special.html.erb</strong></p><div class="code_container">
<div><div id="highlighter_712971" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;p&gt;This is a special page.&lt;/p&gt;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="plain plain">&lt;% content_for :special_script do %&gt;</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;script&gt;alert('Hello!')&lt;/script&gt;</code></div><div class="line number5 index4 alt2"><code class="plain plain">&lt;% end %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h4 id="datehelper">6.7 DateHelper</h4><h5 id="date-select">6.7.1 date_select</h5><p>Returns a set of select tags (one for year, month, and day) pre-selected for accessing a specified date-based attribute.</p><div class="code_container">
<div><div id="highlighter_894878" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">date_select(</code><code class="ruby string">"article"</code><code class="ruby plain">, </code><code class="ruby string">"published_on"</code><code class="ruby plain">)</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="datetime-select">6.7.2 datetime_select</h5><p>Returns a set of select tags (one for year, month, day, hour, and minute) pre-selected for accessing a specified datetime-based attribute.</p><div class="code_container">
<div><div id="highlighter_647127" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">datetime_select(</code><code class="ruby string">"article"</code><code class="ruby plain">, </code><code class="ruby string">"published_on"</code><code class="ruby plain">)</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="distance-of-time-in-words">6.7.3 distance_of_time_in_words</h5><p>Reports the approximate distance in time between two Time or Date objects or integers as seconds. Set <code>include_seconds</code> to true if you want more detailed approximations.</p><div class="code_container">
<div><div id="highlighter_914351" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">distance_of_time_in_words(</code><code class="ruby color1">Time</code><code class="ruby plain">.now, </code><code class="ruby color1">Time</code><code class="ruby plain">.now + </code><code class="ruby constants">15</code><code class="ruby plain">.seconds)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="ruby comments"># =&gt; less than a minute</code></div><div class="line number2 index1 alt1"><code class="ruby plain">distance_of_time_in_words(</code><code class="ruby color1">Time</code><code class="ruby plain">.now, </code><code class="ruby color1">Time</code><code class="ruby plain">.now + </code><code class="ruby constants">15</code><code class="ruby plain">.seconds, include_seconds: </code><code class="ruby keyword">true</code><code class="ruby plain">)&nbsp; </code><code class="ruby comments"># =&gt; less than 20 seconds</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="select-date">6.7.4 select_date</h5><p>Returns a set of HTML select-tags (one for year, month, and day) pre-selected with the <code>date</code> provided.</p><div class="code_container">
<div><div id="highlighter_676997" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby comments"># Generates a date select that defaults to the date provided (six days after today)</code></div><div class="line number2 index1 alt1"><code class="ruby plain">select_date(</code><code class="ruby color1">Time</code><code class="ruby plain">.today + </code><code class="ruby constants">6</code><code class="ruby plain">.days)</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="ruby comments"># Generates a date select that defaults to today (no specified date)</code></div><div class="line number5 index4 alt2"><code class="ruby plain">select_date()</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="select-datetime">6.7.5 select_datetime</h5><p>Returns a set of HTML select-tags (one for year, month, day, hour, and minute) pre-selected with the <code>datetime</code> provided.</p><div class="code_container">
<div><div id="highlighter_321645" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby comments"># Generates a datetime select that defaults to the datetime provided (four days after today)</code></div><div class="line number2 index1 alt1"><code class="ruby plain">select_datetime(</code><code class="ruby color1">Time</code><code class="ruby plain">.now + </code><code class="ruby constants">4</code><code class="ruby plain">.days)</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="ruby comments"># Generates a datetime select that defaults to today (no specified datetime)</code></div><div class="line number5 index4 alt2"><code class="ruby plain">select_datetime()</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="select-day">6.7.6 select_day</h5><p>Returns a select tag with options for each of the days 1 through 31 with the current day selected.</p><div class="code_container">
<div><div id="highlighter_355723" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby comments"># Generates a select field for days that defaults to the day for the date provided</code></div><div class="line number2 index1 alt1"><code class="ruby plain">select_day(</code><code class="ruby color1">Time</code><code class="ruby plain">.today + </code><code class="ruby constants">2</code><code class="ruby plain">.days)</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="ruby comments"># Generates a select field for days that defaults to the number given</code></div><div class="line number5 index4 alt2"><code class="ruby plain">select_day(</code><code class="ruby constants">5</code><code class="ruby plain">)</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="select-hour">6.7.7 select_hour</h5><p>Returns a select tag with options for each of the hours 0 through 23 with the current hour selected.</p><div class="code_container">
<div><div id="highlighter_591905" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby comments"># Generates a select field for hours that defaults to the hours for the time provided</code></div><div class="line number2 index1 alt1"><code class="ruby plain">select_hour(</code><code class="ruby color1">Time</code><code class="ruby plain">.now + </code><code class="ruby constants">6</code><code class="ruby plain">.hours)</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="select-minute">6.7.8 select_minute</h5><p>Returns a select tag with options for each of the minutes 0 through 59 with the current minute selected.</p><div class="code_container">
<div><div id="highlighter_121334" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby comments"># Generates a select field for minutes that defaults to the minutes for the time provided.</code></div><div class="line number2 index1 alt1"><code class="ruby plain">select_minute(</code><code class="ruby color1">Time</code><code class="ruby plain">.now + </code><code class="ruby constants">6</code><code class="ruby plain">.hours)</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="select-month">6.7.9 select_month</h5><p>Returns a select tag with options for each of the months January through December with the current month selected.</p><div class="code_container">
<div><div id="highlighter_609897" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby comments"># Generates a select field for months that defaults to the current month</code></div><div class="line number2 index1 alt1"><code class="ruby plain">select_month(Date.today)</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="select-second">6.7.10 select_second</h5><p>Returns a select tag with options for each of the seconds 0 through 59 with the current second selected.</p><div class="code_container">
<div><div id="highlighter_418578" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby comments"># Generates a select field for seconds that defaults to the seconds for the time provided</code></div><div class="line number2 index1 alt1"><code class="ruby plain">select_second(</code><code class="ruby color1">Time</code><code class="ruby plain">.now + </code><code class="ruby constants">16</code><code class="ruby plain">.minutes)</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="select-time">6.7.11 select_time</h5><p>Returns a set of HTML select-tags (one for hour and minute).</p><div class="code_container">
<div><div id="highlighter_873876" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby comments"># Generates a time select that defaults to the time provided</code></div><div class="line number2 index1 alt1"><code class="ruby plain">select_time(</code><code class="ruby color1">Time</code><code class="ruby plain">.now)</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="select-year">6.7.12 select_year</h5><p>Returns a select tag with options for each of the five years on each side of the current, which is selected. The five year radius can be changed using the <code>:start_year</code> and <code>:end_year</code> keys in the <code>options</code>.</p><div class="code_container">
<div><div id="highlighter_6574" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby comments"># Generates a select field for five years on either side of Date.today that defaults to the current year</code></div><div class="line number2 index1 alt1"><code class="ruby plain">select_year(Date.today)</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="ruby comments"># Generates a select field from 1900 to 2009 that defaults to the current year</code></div><div class="line number5 index4 alt2"><code class="ruby plain">select_year(Date.today, start_year: </code><code class="ruby constants">1900</code><code class="ruby plain">, end_year: </code><code class="ruby constants">2009</code><code class="ruby plain">)</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="time-ago-in-words">6.7.13 time_ago_in_words</h5><p>Like <code>distance_of_time_in_words</code>, but where <code>to_time</code> is fixed to <code>Time.now</code>.</p><div class="code_container">
<div><div id="highlighter_540290" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">time_ago_in_words(</code><code class="ruby constants">3</code><code class="ruby plain">.minutes.from_now)&nbsp; </code><code class="ruby comments"># =&gt; 3 minutes</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="time-select">6.7.14 time_select</h5><p>Returns a set of select tags (one for hour, minute and optionally second) pre-selected for accessing a specified time-based attribute. The selects are prepared for multi-parameter assignment to an Active Record object.</p><div class="code_container">
<div><div id="highlighter_307954" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby comments"># Creates a time select tag that, when POSTed, will be stored in the order variable in the submitted attribute</code></div><div class="line number2 index1 alt1"><code class="ruby plain">time_select(</code><code class="ruby string">"order"</code><code class="ruby plain">, </code><code class="ruby string">"submitted"</code><code class="ruby plain">)</code></div></div></td></tr></tbody></table></div></div>
</div>
<h4 id="debughelper">6.8 DebugHelper</h4><p>Returns a <code>pre</code> tag that has object dumped by YAML. This creates a very readable way to inspect an object.</p><div class="code_container">
<div><div id="highlighter_539092" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">my_hash = {</code><code class="ruby string">'first'</code> <code class="ruby plain">=&gt; </code><code class="ruby constants">1</code><code class="ruby plain">, </code><code class="ruby string">'second'</code> <code class="ruby plain">=&gt; </code><code class="ruby string">'two'</code><code class="ruby plain">, </code><code class="ruby string">'third'</code> <code class="ruby plain">=&gt; [</code><code class="ruby constants">1</code><code class="ruby plain">,</code><code class="ruby constants">2</code><code class="ruby plain">,</code><code class="ruby constants">3</code><code class="ruby plain">]}</code></div><div class="line number2 index1 alt1"><code class="ruby plain">debug(my_hash)</code></div></div></td></tr></tbody></table></div></div>
</div>
<div class="code_container">
<div><div id="highlighter_656710" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">pre</code> <code class="xml color1">class</code><code class="xml plain">=</code><code class="xml string">'debug_dump'</code><code class="xml plain">&gt;---</code></div><div class="line number2 index1 alt1"><code class="xml plain">first: 1</code></div><div class="line number3 index2 alt2"><code class="xml plain">second: two</code></div><div class="line number4 index3 alt1"><code class="xml plain">third:</code></div><div class="line number5 index4 alt2"><code class="xml plain">- 1</code></div><div class="line number6 index5 alt1"><code class="xml plain">- 2</code></div><div class="line number7 index6 alt2"><code class="xml plain">- 3</code></div><div class="line number8 index7 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">pre</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h4 id="formhelper">6.9 FormHelper</h4><p>Form helpers are designed to make working with models much easier compared to using just standard HTML elements by providing a set of methods for creating forms based on your models. This helper generates the HTML for forms, providing a method for each sort of input (e.g., text, password, select, and so on). When the form is submitted (i.e., when the user hits the submit button or form.submit is called via JavaScript), the form inputs will be bundled into the params object and passed back to the controller.</p><p>There are two types of form helpers: those that specifically work with model attributes and those that don't. This helper deals with those that work with model attributes; to see an example of form helpers that don't work with model attributes, check the ActionView::Helpers::FormTagHelper documentation.</p><p>The core method of this helper, form_for, gives you the ability to create a form for a model instance; for example, let's say that you have a model Person and want to create a new instance of it:</p><div class="code_container">
<div><div id="highlighter_589294" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain"># Note: a @person variable will have been created in the controller (e.g. @person = Person.new)</code></div><div class="line number2 index1 alt1"><code class="plain plain">&lt;%= form_for @person, url: {action: "create"} do |f| %&gt;</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;%= f.text_field :first_name %&gt;</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;%= f.text_field :last_name %&gt;</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;%= submit_tag 'Create' %&gt;</code></div><div class="line number6 index5 alt1"><code class="plain plain">&lt;% end %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>The HTML generated for this would be:</p><div class="code_container">
<div><div id="highlighter_884194" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">form</code> <code class="xml color1">action</code><code class="xml plain">=</code><code class="xml string">"/people/create"</code> <code class="xml color1">method</code><code class="xml plain">=</code><code class="xml string">"post"</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">input</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"person_first_name"</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"person[first_name]"</code> <code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"text"</code> <code class="xml plain">/&gt;</code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">input</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"person_last_name"</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"person[last_name]"</code> <code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"text"</code> <code class="xml plain">/&gt;</code></div><div class="line number4 index3 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">input</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"commit"</code> <code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"submit"</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"Create"</code> <code class="xml plain">/&gt;</code></div><div class="line number5 index4 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">form</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>The params object created when this form is submitted would look like:</p><div class="code_container">
<div><div id="highlighter_31931" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">{</code><code class="ruby string">"action"</code> <code class="ruby plain">=&gt; </code><code class="ruby string">"create"</code><code class="ruby plain">, </code><code class="ruby string">"controller"</code> <code class="ruby plain">=&gt; </code><code class="ruby string">"people"</code><code class="ruby plain">, </code><code class="ruby string">"person"</code> <code class="ruby plain">=&gt; {</code><code class="ruby string">"first_name"</code> <code class="ruby plain">=&gt; </code><code class="ruby string">"William"</code><code class="ruby plain">, </code><code class="ruby string">"last_name"</code> <code class="ruby plain">=&gt; </code><code class="ruby string">"Smith"</code><code class="ruby plain">}}</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>The params hash has a nested person value, which can therefore be accessed with params[:person] in the controller.</p><h5 id="check-box">6.9.1 check_box</h5><p>Returns a checkbox tag tailored for accessing a specified attribute.</p><div class="code_container">
<div><div id="highlighter_785859" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby comments"># Let's say that @article.validated? is 1:</code></div><div class="line number2 index1 alt1"><code class="ruby plain">check_box(</code><code class="ruby string">"article"</code><code class="ruby plain">, </code><code class="ruby string">"validated"</code><code class="ruby plain">)</code></div><div class="line number3 index2 alt2"><code class="ruby comments"># =&gt; &lt;input type="checkbox" id="article_validated" name="article[validated]" value="1" /&gt;</code></div><div class="line number4 index3 alt1"><code class="ruby comments">#&nbsp;&nbsp;&nbsp; &lt;input name="article[validated]" type="hidden" value="0" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="fields-for">6.9.2 fields_for</h5><p>Creates a scope around a specific model object like form_for, but doesn't create the form tags themselves. This makes fields_for suitable for specifying additional model objects in the same form:</p><div class="code_container">
<div><div id="highlighter_31296" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;%= form_for @person, url: {action: "update"} do |person_form| %&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">First name: &lt;%= person_form.text_field :first_name %&gt;</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">Last name : &lt;%= person_form.text_field :last_name %&gt;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;%= fields_for @person.permission do |permission_fields| %&gt;</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">Admin?&nbsp; : &lt;%= permission_fields.check_box :admin %&gt;</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;% end %&gt;</code></div><div class="line number8 index7 alt1"><code class="plain plain">&lt;% end %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="file-field">6.9.3 file_field</h5><p>Returns a file upload input tag tailored for accessing a specified attribute.</p><div class="code_container">
<div><div id="highlighter_479055" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">file_field(</code><code class="ruby color2">:user</code><code class="ruby plain">, </code><code class="ruby color2">:avatar</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input type="file" id="user_avatar" name="user[avatar]" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="form-for">6.9.4 form_for</h5><p>Creates a form and a scope around a specific model object that is used as a base for questioning about values for the fields.</p><div class="code_container">
<div><div id="highlighter_274397" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;%= form_for @article do |f| %&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;%= f.label :title, 'Title' %&gt;:</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;%= f.text_field :title %&gt;&lt;br&gt;</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;%= f.label :body, 'Body' %&gt;:</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;%= f.text_area :body %&gt;&lt;br&gt;</code></div><div class="line number6 index5 alt1"><code class="plain plain">&lt;% end %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="hidden-field">6.9.5 hidden_field</h5><p>Returns a hidden input tag tailored for accessing a specified attribute.</p><div class="code_container">
<div><div id="highlighter_267108" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">hidden_field(</code><code class="ruby color2">:user</code><code class="ruby plain">, </code><code class="ruby color2">:token</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input type="hidden" id="user_token" name="user[token]" value="#{@user.token}" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="label">6.9.6 label</h5><p>Returns a label tag tailored for labelling an input field for a specified attribute.</p><div class="code_container">
<div><div id="highlighter_980497" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">label(</code><code class="ruby color2">:article</code><code class="ruby plain">, </code><code class="ruby color2">:title</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;label for="article_title"&gt;Title&lt;/label&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="password-field">6.9.7 password_field</h5><p>Returns an input tag of the "password" type tailored for accessing a specified attribute.</p><div class="code_container">
<div><div id="highlighter_200152" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">password_field(</code><code class="ruby color2">:login</code><code class="ruby plain">, </code><code class="ruby color2">:pass</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input type="text" id="login_pass" name="login[pass]" value="#{@login.pass}" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="radio-button">6.9.8 radio_button</h5><p>Returns a radio button tag for accessing a specified attribute.</p><div class="code_container">
<div><div id="highlighter_965896" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby comments"># Let's say that @article.category returns "rails":</code></div><div class="line number2 index1 alt1"><code class="ruby plain">radio_button(</code><code class="ruby string">"article"</code><code class="ruby plain">, </code><code class="ruby string">"category"</code><code class="ruby plain">, </code><code class="ruby string">"rails"</code><code class="ruby plain">)</code></div><div class="line number3 index2 alt2"><code class="ruby plain">radio_button(</code><code class="ruby string">"article"</code><code class="ruby plain">, </code><code class="ruby string">"category"</code><code class="ruby plain">, </code><code class="ruby string">"java"</code><code class="ruby plain">)</code></div><div class="line number4 index3 alt1"><code class="ruby comments"># =&gt; &lt;input type="radio" id="article_category_rails" name="article[category]" value="rails" checked="checked" /&gt;</code></div><div class="line number5 index4 alt2"><code class="ruby comments">#&nbsp;&nbsp;&nbsp; &lt;input type="radio" id="article_category_java" name="article[category]" value="java" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="text-area">6.9.9 text_area</h5><p>Returns a textarea opening and closing tag set tailored for accessing a specified attribute.</p><div class="code_container">
<div><div id="highlighter_895756" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">text_area(</code><code class="ruby color2">:comment</code><code class="ruby plain">, </code><code class="ruby color2">:text</code><code class="ruby plain">, size: </code><code class="ruby string">"20x30"</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;textarea cols="20" rows="30" id="comment_text" name="comment[text]"&gt;</code></div><div class="line number3 index2 alt2"><code class="ruby comments">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #{@comment.text}</code></div><div class="line number4 index3 alt1"><code class="ruby comments">#&nbsp;&nbsp;&nbsp; &lt;/textarea&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="text-field">6.9.10 text_field</h5><p>Returns an input tag of the "text" type tailored for accessing a specified attribute.</p><div class="code_container">
<div><div id="highlighter_673435" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">text_field(</code><code class="ruby color2">:article</code><code class="ruby plain">, </code><code class="ruby color2">:title</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input type="text" id="article_title" name="article[title]" value="#{@article.title}" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="email-field">6.9.11 email_field</h5><p>Returns an input tag of the "email" type tailored for accessing a specified attribute.</p><div class="code_container">
<div><div id="highlighter_214513" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">email_field(</code><code class="ruby color2">:user</code><code class="ruby plain">, </code><code class="ruby color2">:email</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input type="email" id="user_email" name="user[email]" value="#{@user.email}" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="url-field">6.9.12 url_field</h5><p>Returns an input tag of the "url" type tailored for accessing a specified attribute.</p><div class="code_container">
<div><div id="highlighter_765543" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">url_field(</code><code class="ruby color2">:user</code><code class="ruby plain">, </code><code class="ruby color2">:url</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input type="url" id="user_url" name="user[url]" value="#{@user.url}" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h4 id="formoptionshelper">6.10 FormOptionsHelper</h4><p>Provides a number of methods for turning different kinds of containers into a set of option tags.</p><h5 id="collection-select">6.10.1 collection_select</h5><p>Returns <code>select</code> and <code>option</code> tags for the collection of existing return values of <code>method</code> for <code>object</code>'s class.</p><p>Example object structure for use with this method:</p><div class="code_container">
<div><div id="highlighter_627063" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby keyword">class</code> <code class="ruby plain">Article &lt; ActiveRecord::Base</code></div><div class="line number2 index1 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">belongs_to </code><code class="ruby color2">:author</code></div><div class="line number3 index2 alt2"><code class="ruby keyword">end</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="ruby keyword">class</code> <code class="ruby plain">Author &lt; ActiveRecord::Base</code></div><div class="line number6 index5 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">has_many </code><code class="ruby color2">:articles</code></div><div class="line number7 index6 alt2"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby keyword">def</code> <code class="ruby plain">name_with_initial</code></div><div class="line number8 index7 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby string">"#{first_name.first}. #{last_name}"</code></div><div class="line number9 index8 alt2"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby keyword">end</code></div><div class="line number10 index9 alt1"><code class="ruby keyword">end</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Sample usage (selecting the associated Author for an instance of Article, <code>@article</code>):</p><div class="code_container">
<div><div id="highlighter_101265" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">collection_select(</code><code class="ruby color2">:article</code><code class="ruby plain">, </code><code class="ruby color2">:author_id</code><code class="ruby plain">, Author.all, </code><code class="ruby color2">:id</code><code class="ruby plain">, </code><code class="ruby color2">:name_with_initial</code><code class="ruby plain">, {prompt: </code><code class="ruby keyword">true</code><code class="ruby plain">})</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>If <code>@article.author_id</code> is 1, this would return:</p><div class="code_container">
<div><div id="highlighter_842078" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">select</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"article[author_id]"</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">option</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">""</code><code class="xml plain">&gt;Please select&lt;/</code><code class="xml keyword">option</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">option</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"1"</code> <code class="xml color1">selected</code><code class="xml plain">=</code><code class="xml string">"selected"</code><code class="xml plain">&gt;D. Heinemeier Hansson&lt;/</code><code class="xml keyword">option</code><code class="xml plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">option</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"2"</code><code class="xml plain">&gt;D. Thomas&lt;/</code><code class="xml keyword">option</code><code class="xml plain">&gt;</code></div><div class="line number5 index4 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">option</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"3"</code><code class="xml plain">&gt;M. Clark&lt;/</code><code class="xml keyword">option</code><code class="xml plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">select</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="collection-radio-buttons">6.10.2 collection_radio_buttons</h5><p>Returns <code>radio_button</code> tags for the collection of existing return values of <code>method</code> for <code>object</code>'s class.</p><p>Example object structure for use with this method:</p><div class="code_container">
<div><div id="highlighter_577600" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby keyword">class</code> <code class="ruby plain">Article &lt; ActiveRecord::Base</code></div><div class="line number2 index1 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">belongs_to </code><code class="ruby color2">:author</code></div><div class="line number3 index2 alt2"><code class="ruby keyword">end</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="ruby keyword">class</code> <code class="ruby plain">Author &lt; ActiveRecord::Base</code></div><div class="line number6 index5 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">has_many </code><code class="ruby color2">:articles</code></div><div class="line number7 index6 alt2"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby keyword">def</code> <code class="ruby plain">name_with_initial</code></div><div class="line number8 index7 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby string">"#{first_name.first}. #{last_name}"</code></div><div class="line number9 index8 alt2"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby keyword">end</code></div><div class="line number10 index9 alt1"><code class="ruby keyword">end</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Sample usage (selecting the associated Author for an instance of Article, <code>@article</code>):</p><div class="code_container">
<div><div id="highlighter_196360" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">collection_radio_buttons(</code><code class="ruby color2">:article</code><code class="ruby plain">, </code><code class="ruby color2">:author_id</code><code class="ruby plain">, Author.all, </code><code class="ruby color2">:id</code><code class="ruby plain">, </code><code class="ruby color2">:name_with_initial</code><code class="ruby plain">)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>If <code>@article.author_id</code> is 1, this would return:</p><div class="code_container">
<div><div id="highlighter_351176" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">input</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"article_author_id_1"</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"article[author_id]"</code> <code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"radio"</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"1"</code> <code class="xml color1">checked</code><code class="xml plain">=</code><code class="xml string">"checked"</code> <code class="xml plain">/&gt;</code></div><div class="line number2 index1 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">label</code> <code class="xml color1">for</code><code class="xml plain">=</code><code class="xml string">"article_author_id_1"</code><code class="xml plain">&gt;D. Heinemeier Hansson&lt;/</code><code class="xml keyword">label</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">input</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"article_author_id_2"</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"article[author_id]"</code> <code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"radio"</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"2"</code> <code class="xml plain">/&gt;</code></div><div class="line number4 index3 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">label</code> <code class="xml color1">for</code><code class="xml plain">=</code><code class="xml string">"article_author_id_2"</code><code class="xml plain">&gt;D. Thomas&lt;/</code><code class="xml keyword">label</code><code class="xml plain">&gt;</code></div><div class="line number5 index4 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">input</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"article_author_id_3"</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"article[author_id]"</code> <code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"radio"</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"3"</code> <code class="xml plain">/&gt;</code></div><div class="line number6 index5 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">label</code> <code class="xml color1">for</code><code class="xml plain">=</code><code class="xml string">"article_author_id_3"</code><code class="xml plain">&gt;M. Clark&lt;/</code><code class="xml keyword">label</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="collection-check-boxes">6.10.3 collection_check_boxes</h5><p>Returns <code>check_box</code> tags for the collection of existing return values of <code>method</code> for <code>object</code>'s class.</p><p>Example object structure for use with this method:</p><div class="code_container">
<div><div id="highlighter_572878" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby keyword">class</code> <code class="ruby plain">Article &lt; ActiveRecord::Base</code></div><div class="line number2 index1 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">has_and_belongs_to_many </code><code class="ruby color2">:authors</code></div><div class="line number3 index2 alt2"><code class="ruby keyword">end</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="ruby keyword">class</code> <code class="ruby plain">Author &lt; ActiveRecord::Base</code></div><div class="line number6 index5 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">has_and_belongs_to_many </code><code class="ruby color2">:articles</code></div><div class="line number7 index6 alt2"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby keyword">def</code> <code class="ruby plain">name_with_initial</code></div><div class="line number8 index7 alt1"><code class="ruby spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ruby string">"#{first_name.first}. #{last_name}"</code></div><div class="line number9 index8 alt2"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby keyword">end</code></div><div class="line number10 index9 alt1"><code class="ruby keyword">end</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Sample usage (selecting the associated Authors for an instance of Article, <code>@article</code>):</p><div class="code_container">
<div><div id="highlighter_50469" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">collection_check_boxes(</code><code class="ruby color2">:article</code><code class="ruby plain">, </code><code class="ruby color2">:author_ids</code><code class="ruby plain">, Author.all, </code><code class="ruby color2">:id</code><code class="ruby plain">, </code><code class="ruby color2">:name_with_initial</code><code class="ruby plain">)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>If <code>@article.author_ids</code> is [1], this would return:</p><div class="code_container">
<div><div id="highlighter_966116" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">input</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"article_author_ids_1"</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"article[author_ids][]"</code> <code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"checkbox"</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"1"</code> <code class="xml color1">checked</code><code class="xml plain">=</code><code class="xml string">"checked"</code> <code class="xml plain">/&gt;</code></div><div class="line number2 index1 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">label</code> <code class="xml color1">for</code><code class="xml plain">=</code><code class="xml string">"article_author_ids_1"</code><code class="xml plain">&gt;D. Heinemeier Hansson&lt;/</code><code class="xml keyword">label</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">input</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"article_author_ids_2"</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"article[author_ids][]"</code> <code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"checkbox"</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"2"</code> <code class="xml plain">/&gt;</code></div><div class="line number4 index3 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">label</code> <code class="xml color1">for</code><code class="xml plain">=</code><code class="xml string">"article_author_ids_2"</code><code class="xml plain">&gt;D. Thomas&lt;/</code><code class="xml keyword">label</code><code class="xml plain">&gt;</code></div><div class="line number5 index4 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">input</code> <code class="xml color1">id</code><code class="xml plain">=</code><code class="xml string">"article_author_ids_3"</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"article[author_ids][]"</code> <code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"checkbox"</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"3"</code> <code class="xml plain">/&gt;</code></div><div class="line number6 index5 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">label</code> <code class="xml color1">for</code><code class="xml plain">=</code><code class="xml string">"article_author_ids_3"</code><code class="xml plain">&gt;M. Clark&lt;/</code><code class="xml keyword">label</code><code class="xml plain">&gt;</code></div><div class="line number7 index6 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">input</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"article[author_ids][]"</code> <code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"hidden"</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">""</code> <code class="xml plain">/&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="option-groups-from-collection-for-select">6.10.4 option_groups_from_collection_for_select</h5><p>Returns a string of <code>option</code> tags, like <code>options_from_collection_for_select</code>, but groups them by <code>optgroup</code> tags based on the object relationships of the arguments.</p><p>Example object structure for use with this method:</p><div class="code_container">
<div><div id="highlighter_981318" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby keyword">class</code> <code class="ruby plain">Continent &lt; ActiveRecord::Base</code></div><div class="line number2 index1 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">has_many </code><code class="ruby color2">:countries</code></div><div class="line number3 index2 alt2"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby comments"># attribs: id, name</code></div><div class="line number4 index3 alt1"><code class="ruby keyword">end</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="ruby keyword">class</code> <code class="ruby plain">Country &lt; ActiveRecord::Base</code></div><div class="line number7 index6 alt2"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">belongs_to </code><code class="ruby color2">:continent</code></div><div class="line number8 index7 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby comments"># attribs: id, name, continent_id</code></div><div class="line number9 index8 alt2"><code class="ruby keyword">end</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Sample usage:</p><div class="code_container">
<div><div id="highlighter_248732" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">option_groups_from_collection_for_select(</code><code class="ruby variable bold">@continents</code><code class="ruby plain">, </code><code class="ruby color2">:countries</code><code class="ruby plain">, </code><code class="ruby color2">:name</code><code class="ruby plain">, </code><code class="ruby color2">:id</code><code class="ruby plain">, </code><code class="ruby color2">:name</code><code class="ruby plain">, </code><code class="ruby constants">3</code><code class="ruby plain">)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Possible output:</p><div class="code_container">
<div><div id="highlighter_660245" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">optgroup</code> <code class="xml color1">label</code><code class="xml plain">=</code><code class="xml string">"Africa"</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">option</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"1"</code><code class="xml plain">&gt;Egypt&lt;/</code><code class="xml keyword">option</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">option</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"4"</code><code class="xml plain">&gt;Rwanda&lt;/</code><code class="xml keyword">option</code><code class="xml plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">...</code></div><div class="line number5 index4 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">optgroup</code><code class="xml plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">optgroup</code> <code class="xml color1">label</code><code class="xml plain">=</code><code class="xml string">"Asia"</code><code class="xml plain">&gt;</code></div><div class="line number7 index6 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">option</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"3"</code> <code class="xml color1">selected</code><code class="xml plain">=</code><code class="xml string">"selected"</code><code class="xml plain">&gt;China&lt;/</code><code class="xml keyword">option</code><code class="xml plain">&gt;</code></div><div class="line number8 index7 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">option</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"12"</code><code class="xml plain">&gt;India&lt;/</code><code class="xml keyword">option</code><code class="xml plain">&gt;</code></div><div class="line number9 index8 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">option</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"5"</code><code class="xml plain">&gt;Japan&lt;/</code><code class="xml keyword">option</code><code class="xml plain">&gt;</code></div><div class="line number10 index9 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">...</code></div><div class="line number11 index10 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">optgroup</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Note: Only the <code>optgroup</code> and <code>option</code> tags are returned, so you still have to wrap the output in an appropriate <code>select</code> tag.</p><h5 id="options-for-select">6.10.5 options_for_select</h5><p>Accepts a container (hash, array, enumerable, your type) and returns a string of option tags.</p><div class="code_container">
<div><div id="highlighter_61190" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">options_for_select([ </code><code class="ruby string">"VISA"</code><code class="ruby plain">, </code><code class="ruby string">"MasterCard"</code> <code class="ruby plain">])</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;option&gt;VISA&lt;/option&gt; &lt;option&gt;MasterCard&lt;/option&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Note: Only the <code>option</code> tags are returned, you have to wrap this call in a regular HTML <code>select</code> tag.</p><h5 id="options-from-collection-for-select">6.10.6 options_from_collection_for_select</h5><p>Returns a string of option tags that have been compiled by iterating over the <code>collection</code> and assigning the result of a call to the <code>value_method</code> as the option value and the <code>text_method</code> as the option text.</p><div class="code_container">
<div><div id="highlighter_396678" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby comments"># options_from_collection_for_select(collection, value_method, text_method, selected = nil)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>For example, imagine a loop iterating over each person in @project.people to generate an input tag:</p><div class="code_container">
<div><div id="highlighter_931514" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">options_from_collection_for_select(</code><code class="ruby variable bold">@project</code><code class="ruby plain">.people, </code><code class="ruby string">"id"</code><code class="ruby plain">, </code><code class="ruby string">"name"</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;option value="#{person.id}"&gt;#{person.name}&lt;/option&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Note: Only the <code>option</code> tags are returned, you have to wrap this call in a regular HTML <code>select</code> tag.</p><h5 id="select">6.10.7 select</h5><p>Create a select tag and a series of contained option tags for the provided object and method.</p><p>Example:</p><div class="code_container">
<div><div id="highlighter_113553" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">select(</code><code class="ruby string">"article"</code><code class="ruby plain">, </code><code class="ruby string">"person_id"</code><code class="ruby plain">, Person.all.collect {|p| [ p.name, p.id ] }, {include_blank: </code><code class="ruby keyword">true</code><code class="ruby plain">})</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>If <code>@article.person_id</code> is 1, this would become:</p><div class="code_container">
<div><div id="highlighter_394191" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">select</code> <code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"article[person_id]"</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">option</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">""</code><code class="xml plain">&gt;&lt;/</code><code class="xml keyword">option</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">option</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"1"</code> <code class="xml color1">selected</code><code class="xml plain">=</code><code class="xml string">"selected"</code><code class="xml plain">&gt;David&lt;/</code><code class="xml keyword">option</code><code class="xml plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">option</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"2"</code><code class="xml plain">&gt;Sam&lt;/</code><code class="xml keyword">option</code><code class="xml plain">&gt;</code></div><div class="line number5 index4 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">option</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"3"</code><code class="xml plain">&gt;Tobias&lt;/</code><code class="xml keyword">option</code><code class="xml plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">select</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="time-zone-options-for-select">6.10.8 time_zone_options_for_select</h5><p>Returns a string of option tags for pretty much any time zone in the world.</p><h5 id="time-zone-select">6.10.9 time_zone_select</h5><p>Returns select and option tags for the given object and method, using <code>time_zone_options_for_select</code> to generate the list of option tags.</p><div class="code_container">
<div><div id="highlighter_102008" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">time_zone_select( </code><code class="ruby string">"user"</code><code class="ruby plain">, </code><code class="ruby string">"time_zone"</code><code class="ruby plain">)</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="date-field">6.10.10 date_field</h5><p>Returns an input tag of the "date" type tailored for accessing a specified attribute.</p><div class="code_container">
<div><div id="highlighter_258688" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">date_field(</code><code class="ruby string">"user"</code><code class="ruby plain">, </code><code class="ruby string">"dob"</code><code class="ruby plain">)</code></div></div></td></tr></tbody></table></div></div>
</div>
<h4 id="formtaghelper">6.11 FormTagHelper</h4><p>Provides a number of methods for creating form tags that don't rely on an Active Record object assigned to the template like FormHelper does. Instead, you provide the names and values manually.</p><h5 id="check-box-tag">6.11.1 check_box_tag</h5><p>Creates a check box form input tag.</p><div class="code_container">
<div><div id="highlighter_69058" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">check_box_tag </code><code class="ruby string">'accept'</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input id="accept" name="accept" type="checkbox" value="1" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="field-set-tag">6.11.2 field_set_tag</h5><p>Creates a field set for grouping HTML form elements.</p><div class="code_container">
<div><div id="highlighter_970930" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;%= field_set_tag do %&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;p&gt;&lt;%= text_field_tag 'name' %&gt;&lt;/p&gt;</code></div><div class="line number3 index2 alt2"><code class="plain plain">&lt;% end %&gt;</code></div><div class="line number4 index3 alt1"><code class="plain plain"># =&gt; &lt;fieldset&gt;&lt;p&gt;&lt;input id="name" name="name" type="text" /&gt;&lt;/p&gt;&lt;/fieldset&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="file-field-tag">6.11.3 file_field_tag</h5><p>Creates a file upload field.</p><div class="code_container">
<div><div id="highlighter_647964" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;%= form_tag({action:"post"}, multipart: true) do %&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;label for="file"&gt;File to Upload&lt;/label&gt; &lt;%= file_field_tag "file" %&gt;</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;%= submit_tag %&gt;</code></div><div class="line number4 index3 alt1"><code class="plain plain">&lt;% end %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Example output:</p><div class="code_container">
<div><div id="highlighter_791531" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">file_field_tag </code><code class="ruby string">'attachment'</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input id="attachment" name="attachment" type="file" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="form-tag">6.11.4 form_tag</h5><p>Starts a form tag that points the action to an url configured with <code>url_for_options</code> just like <code>ActionController::Base#url_for</code>.</p><div class="code_container">
<div><div id="highlighter_268803" class="syntaxhighlighter nogutter  plain"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">&lt;%= form_tag '/articles' do %&gt;</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;</code><code class="plain plain">&lt;div&gt;&lt;%= submit_tag 'Save' %&gt;&lt;/div&gt;</code></div><div class="line number3 index2 alt2"><code class="plain plain">&lt;% end %&gt;</code></div><div class="line number4 index3 alt1"><code class="plain plain"># =&gt; &lt;form action="/articles" method="post"&gt;&lt;div&gt;&lt;input type="submit" name="submit" value="Save" /&gt;&lt;/div&gt;&lt;/form&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="hidden-field-tag">6.11.5 hidden_field_tag</h5><p>Creates a hidden form input field used to transmit data that would be lost due to HTTP's statelessness or data that should be hidden from the user.</p><div class="code_container">
<div><div id="highlighter_660630" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">hidden_field_tag </code><code class="ruby string">'token'</code><code class="ruby plain">, </code><code class="ruby string">'VUBJKB23UIVI1UU1VOBVI@'</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input id="token" name="token" type="hidden" value="VUBJKB23UIVI1UU1VOBVI@" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="image-submit-tag">6.11.6 image_submit_tag</h5><p>Displays an image which when clicked will submit the form.</p><div class="code_container">
<div><div id="highlighter_219740" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">image_submit_tag(</code><code class="ruby string">"login.png"</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input src="/images/login.png" type="image" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="label-tag">6.11.7 label_tag</h5><p>Creates a label field.</p><div class="code_container">
<div><div id="highlighter_851680" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">label_tag </code><code class="ruby string">'name'</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;label for="name"&gt;Name&lt;/label&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="password-field-tag">6.11.8 password_field_tag</h5><p>Creates a password field, a masked text field that will hide the users input behind a mask character.</p><div class="code_container">
<div><div id="highlighter_658131" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">password_field_tag </code><code class="ruby string">'pass'</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input id="pass" name="pass" type="password" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="radio-button-tag">6.11.9 radio_button_tag</h5><p>Creates a radio button; use groups of radio buttons named the same to allow users to select from a group of options.</p><div class="code_container">
<div><div id="highlighter_261070" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">radio_button_tag </code><code class="ruby string">'gender'</code><code class="ruby plain">, </code><code class="ruby string">'male'</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input id="gender_male" name="gender" type="radio" value="male" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="select-tag">6.11.10 select_tag</h5><p>Creates a dropdown selection box.</p><div class="code_container">
<div><div id="highlighter_140147" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">select_tag </code><code class="ruby string">"people"</code><code class="ruby plain">, </code><code class="ruby string">"&lt;option&gt;David&lt;/option&gt;"</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;select id="people" name="people"&gt;&lt;option&gt;David&lt;/option&gt;&lt;/select&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="submit-tag">6.11.11 submit_tag</h5><p>Creates a submit button with the text provided as the caption.</p><div class="code_container">
<div><div id="highlighter_736873" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">submit_tag </code><code class="ruby string">"Publish this article"</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input name="commit" type="submit" value="Publish this article" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="text-area-tag">6.11.12 text_area_tag</h5><p>Creates a text input area; use a textarea for longer text inputs such as blog posts or descriptions.</p><div class="code_container">
<div><div id="highlighter_663698" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">text_area_tag </code><code class="ruby string">'article'</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;textarea id="article" name="article"&gt;&lt;/textarea&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="text-field-tag">6.11.13 text_field_tag</h5><p>Creates a standard text field; use these text fields to input smaller chunks of text like a username or a search query.</p><div class="code_container">
<div><div id="highlighter_646819" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">text_field_tag </code><code class="ruby string">'name'</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input id="name" name="name" type="text" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="email-field-tag">6.11.14 email_field_tag</h5><p>Creates a standard input field of email type.</p><div class="code_container">
<div><div id="highlighter_73305" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">email_field_tag </code><code class="ruby string">'email'</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input id="email" name="email" type="email" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="url-field-tag">6.11.15 url_field_tag</h5><p>Creates a standard input field of url type.</p><div class="code_container">
<div><div id="highlighter_835059" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">url_field_tag </code><code class="ruby string">'url'</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input id="url" name="url" type="url" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="date-field-tag">6.11.16 date_field_tag</h5><p>Creates a standard input field of date type.</p><div class="code_container">
<div><div id="highlighter_16570" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">date_field_tag </code><code class="ruby string">"dob"</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; &lt;input id="dob" name="dob" type="date" /&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h4 id="javascripthelper">6.12 JavaScriptHelper</h4><p>Provides functionality for working with JavaScript in your views.</p><h5 id="escape-javascript">6.12.1 escape_javascript</h5><p>Escape carrier returns and single and double quotes for JavaScript segments.</p><h5 id="javascript-tag">6.12.2 javascript_tag</h5><p>Returns a JavaScript tag wrapping the provided code.</p><div class="code_container">
<div><div id="highlighter_730563" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">javascript_tag </code><code class="ruby string">"alert('All is good')"</code></div></div></td></tr></tbody></table></div></div>
</div>
<div class="code_container">
<div><div id="highlighter_6821" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">script</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml plain">//</code><code class="xml color2">&lt;![CDATA[</code></div><div class="line number3 index2 alt2"><code class="xml color2">alert('All is good')</code></div><div class="line number4 index3 alt1"><code class="xml color2">//]]&gt;</code></div><div class="line number5 index4 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">script</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<h4 id="numberhelper">6.13 NumberHelper</h4><p>Provides methods for converting numbers into formatted strings. Methods are provided for phone numbers, currency, percentage, precision, positional notation, and file size.</p><h5 id="number-to-currency">6.13.1 number_to_currency</h5><p>Formats a number into a currency string (e.g., $13.65).</p><div class="code_container">
<div><div id="highlighter_902710" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">number_to_currency(</code><code class="ruby constants">1234567890</code><code class="ruby plain">.</code><code class="ruby constants">50</code><code class="ruby plain">) </code><code class="ruby comments"># =&gt; $1,234,567,890.50</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="number-to-human-size">6.13.2 number_to_human_size</h5><p>Formats the bytes in size into a more understandable representation; useful for reporting file sizes to users.</p><div class="code_container">
<div><div id="highlighter_862460" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">number_to_human_size(</code><code class="ruby constants">1234</code><code class="ruby plain">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="ruby comments"># =&gt; 1.2 KB</code></div><div class="line number2 index1 alt1"><code class="ruby plain">number_to_human_size(</code><code class="ruby constants">1234567</code><code class="ruby plain">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="ruby comments"># =&gt; 1.2 MB</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="number-to-percentage">6.13.3 number_to_percentage</h5><p>Formats a number as a percentage string.</p><div class="code_container">
<div><div id="highlighter_353012" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">number_to_percentage(</code><code class="ruby constants">100</code><code class="ruby plain">, precision: </code><code class="ruby constants">0</code><code class="ruby plain">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="ruby comments"># =&gt; 100%</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="number-to-phone">6.13.4 number_to_phone</h5><p>Formats a number into a US phone number.</p><div class="code_container">
<div><div id="highlighter_45176" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">number_to_phone(</code><code class="ruby constants">1235551234</code><code class="ruby plain">) </code><code class="ruby comments"># =&gt; 123-555-1234</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="number-with-delimiter">6.13.5 number_with_delimiter</h5><p>Formats a number with grouped thousands using a delimiter.</p><div class="code_container">
<div><div id="highlighter_440393" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">number_with_delimiter(</code><code class="ruby constants">12345678</code><code class="ruby plain">) </code><code class="ruby comments"># =&gt; 12,345,678</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="number-with-precision">6.13.6 number_with_precision</h5><p>Formats a number with the specified level of <code>precision</code>, which defaults to 3.</p><div class="code_container">
<div><div id="highlighter_134341" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">number_with_precision(</code><code class="ruby constants">111</code><code class="ruby plain">.</code><code class="ruby constants">2345</code><code class="ruby plain">)&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="ruby comments"># =&gt; 111.235</code></div><div class="line number2 index1 alt1"><code class="ruby plain">number_with_precision(</code><code class="ruby constants">111</code><code class="ruby plain">.</code><code class="ruby constants">2345</code><code class="ruby plain">, </code><code class="ruby constants">2</code><code class="ruby plain">)&nbsp; </code><code class="ruby comments"># =&gt; 111.23</code></div></div></td></tr></tbody></table></div></div>
</div>
<h4 id="sanitizehelper">6.14 SanitizeHelper</h4><p>The SanitizeHelper module provides a set of methods for scrubbing text of undesired HTML elements.</p><h5 id="sanitize">6.14.1 sanitize</h5><p>This sanitize helper will HTML encode all tags and strip all attributes that aren't specifically allowed.</p><div class="code_container">
<div><div id="highlighter_242127" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">sanitize </code><code class="ruby variable bold">@article</code><code class="ruby plain">.body</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>If either the :attributes or :tags options are passed, only the mentioned tags and attributes are allowed and nothing else.</p><div class="code_container">
<div><div id="highlighter_577130" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">sanitize </code><code class="ruby variable bold">@article</code><code class="ruby plain">.body, tags: %w(table tr td), attributes: %w(id </code><code class="ruby keyword">class</code> <code class="ruby plain">style)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>To change defaults for multiple uses, for example adding table tags to the default:</p><div class="code_container">
<div><div id="highlighter_502707" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby keyword">class</code> <code class="ruby plain">Application &lt; Rails::Application</code></div><div class="line number2 index1 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">config.action_view.sanitized_allowed_tags = </code><code class="ruby string">'table'</code><code class="ruby plain">, </code><code class="ruby string">'tr'</code><code class="ruby plain">, </code><code class="ruby string">'td'</code></div><div class="line number3 index2 alt2"><code class="ruby keyword">end</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="sanitize-css-style">6.14.2 sanitize_css(style)</h5><p>Sanitizes a block of CSS code.</p><h5 id="strip-links-html">6.14.3 strip_links(html)</h5><p>Strips all link tags from text leaving just the link text.</p><div class="code_container">
<div><div id="highlighter_854307" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">strip_links(</code><code class="ruby string">"&lt;a href="</code><code class="ruby plain">http://rubyonrails.org</code><code class="ruby string">"&gt;Ruby on Rails&lt;/a&gt;"</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; Ruby on Rails</code></div></div></td></tr></tbody></table></div></div>
</div>
<div class="code_container">
<div><div id="highlighter_55927" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">strip_links(</code><code class="ruby string">"emails to &lt;a href="</code><code class="ruby plain">mailto</code><code class="ruby color2">:me</code><code class="ruby variable bold">@email</code><code class="ruby plain">.com</code><code class="ruby string">"&gt;me@email.com&lt;/a&gt;."</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; emails to me@email.com.</code></div></div></td></tr></tbody></table></div></div>
</div>
<div class="code_container">
<div><div id="highlighter_535051" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">strip_links(</code><code class="ruby string">'Blog: &lt;a href="http://myblog.com/"&gt;Visit&lt;/a&gt;.'</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; Blog: Visit.</code></div></div></td></tr></tbody></table></div></div>
</div>
<h5 id="strip-tags-html">6.14.4 strip_tags(html)</h5><p>Strips all HTML tags from the html, including comments.
This uses the html-scanner tokenizer and so its HTML parsing ability is limited by that of html-scanner.</p><div class="code_container">
<div><div id="highlighter_956758" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">strip_tags(</code><code class="ruby string">"Strip &lt;i&gt;these&lt;/i&gt; tags!"</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; Strip these tags!</code></div></div></td></tr></tbody></table></div></div>
</div>
<div class="code_container">
<div><div id="highlighter_468546" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">strip_tags(</code><code class="ruby string">"&lt;b&gt;Bold&lt;/b&gt; no more!&nbsp; &lt;a href='more.html'&gt;See more&lt;/a&gt;"</code><code class="ruby plain">)</code></div><div class="line number2 index1 alt1"><code class="ruby comments"># =&gt; Bold no more!&nbsp; See more</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>NB: The output may still contain unescaped '&lt;', '&gt;', '&amp;' characters and confuse browsers.</p><h4 id="csrfhelper">6.15 CsrfHelper</h4><p>Returns meta tags "csrf-param" and "csrf-token" with the name of the cross-site
request forgery protection parameter and token, respectively.</p><div class="code_container">
<div><div id="highlighter_974094" class="syntaxhighlighter nogutter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;%= csrf_meta_tags %&gt;</code></div></div></td></tr></tbody></table></div></div>
</div>
<div class="note"><p>Regular forms generate hidden fields so they do not use these tags. More
details can be found in the <a href="http://guides.rubyonrails.org/security.html#cross-site-request-forgery-csrf">Rails Security Guide</a>.</p></div><h3 id="localized-views">7 Localized Views</h3><p>Action View has the ability render different templates depending on the current locale.</p><p>For example, suppose you have a <code>ArticlesController</code> with a show action. By default, calling this action will render <code>app/views/articles/show.html.erb</code>. But if you set <code>I18n.locale = :de</code>, then <code>app/views/articles/show.de.html.erb</code> will be rendered instead. If the localized template isn't present, the undecorated version will be used. This means you're not required to provide localized views for all cases, but they will be preferred and used if available.</p><p>You can use the same technique to localize the rescue files in your public directory. For example, setting <code>I18n.locale = :de</code> and creating <code>public/500.de.html</code> and <code>public/404.de.html</code> would allow you to have localized rescue pages.</p><p>Since Rails doesn't restrict the symbols that you use to set I18n.locale, you can leverage this system to display different content depending on anything you like. For example, suppose you have some "expert" users that should see different pages from "normal" users. You could add the following to <code>app/controllers/application.rb</code>:</p><div class="code_container">
<div><div id="highlighter_981985" class="syntaxhighlighter nogutter  ruby"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ruby plain">before_action </code><code class="ruby color2">:set_expert_locale</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="ruby keyword">def</code> <code class="ruby plain">set_expert_locale</code></div><div class="line number4 index3 alt1"><code class="ruby spaces">&nbsp;&nbsp;</code><code class="ruby plain">I18n.locale = </code><code class="ruby color2">:expert</code> <code class="ruby keyword">if</code> <code class="ruby plain">current_user.expert?</code></div><div class="line number5 index4 alt2"><code class="ruby keyword">end</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>Then you could create special views like <code>app/views/articles/show.expert.html.erb</code> that would only be displayed to expert users.</p><p>You can read more about the Rails Internationalization (I18n) API <a href="http://guides.rubyonrails.org/i18n.html">here</a>.</p>

        <h3>Feedback</h3>
        <p>
          You're encouraged to help improve the quality of this guide.
        </p>
        <p>
          Please contribute if you see any typos or factual errors.
          To get started, you can read our <a href="http://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation">documentation contributions</a> section.
        </p>
        <p>
          You may also find incomplete content, or stuff that is not up to date.
          Please do add any missing documentation for master. Make sure to check
          <a href="http://edgeguides.rubyonrails.org/">Edge Guides</a> first to verify
          if the issues are already fixed or not on the master branch.
          Check the <a href="http://guides.rubyonrails.org/ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</a>
          for style and conventions.
        </p>
        <p>
          If for whatever reason you spot something to fix but cannot patch it yourself, please
          <a href="https://github.com/rails/rails/issues">open an issue</a>.
        </p>
        <p>And last but not least, any kind of discussion regarding Ruby on Rails
          documentation is very welcome in the <a href="http://groups.google.com/group/rubyonrails-docs">rubyonrails-docs mailing list</a>.
        </p>
      </div>
    </div>
  </div>

  <hr class="hide">
  <div id="footer">
    <div class="wrapper">
      <p>This work is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a> License</p>
<p>"Rails", "Ruby on Rails", and the Rails logo are trademarks of David Heinemeier Hansson. All rights reserved.</p>

    </div>
  </div>

  <script type="text/javascript" src="./actionview_files/jquery.min.js"></script>
  <script type="text/javascript" src="./actionview_files/responsive-tables.js"></script>
  <script type="text/javascript" src="./actionview_files/guides.js"></script>
  <script type="text/javascript" src="./actionview_files/shCore.js"></script>
  <script type="text/javascript" src="./actionview_files/shBrushRuby.js"></script>
  <script type="text/javascript" src="./actionview_files/shBrushXml.js"></script>
  <script type="text/javascript" src="./actionview_files/shBrushSql.js"></script>
  <script type="text/javascript" src="./actionview_files/shBrushPlain.js"></script>
  <script type="text/javascript">
    SyntaxHighlighter.all();
    $(guidesIndex.bind);
  </script>


</body></html>